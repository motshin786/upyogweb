!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=28)}({28:function(e,t){class i extends elementorModules.frontend.handlers.Base{getDefaultSettings(){return{selectors:{body:".rael-toc__body",expandButton:".rael-toc__toggle-button--expand",headerTitle:".rael-toc__header-title",collapseButton:".rael-toc__toggle-button--collapse",postContentContainer:'.elementor:not([data-elementor-type="header"]):not([data-elementor-type="footer"]):not([data-elementor-type="popup"])',widgetContainer:".elementor-widget-container"},classes:{activeItem:"elementor-item-active",firstLevelListItem:"rael-toc__top-level",listTextWrapper:"rael-toc__list-item-text-wrapper",listWrapper:"rael-toc__list-wrapper",listItem:"rael-toc__list-item",listItemText:"rael-toc__list-item-text",collapsed:"rael-toc--collapsed",headingAnchor:"rael-toc__heading-anchor",anchor:"elementor-menu-anchor"},listTagWrapper:"numbers"===this.getElementSettings().rael_marker_view?"ol":"ul"}}getDefaultElements(){var e=this.getSettings();return{$tocBody:this.$element.find(e.selectors.body),$listItems:this.$element.find("."+e.classes.listItem),$widgetContainer:this.$element.find(e.selectors.widgetContainer),$expandButton:this.$element.find(e.selectors.expandButton),$collapseButton:this.$element.find(e.selectors.collapseButton),$pageContainer:this.getContainer()}}bindEvents(){var e=this,t=this.getElementSettings();t.rael_minimize_box&&(this.elements.$expandButton.on("click",(function(){return e.expandBox()})),this.elements.$collapseButton.on("click",(function(){return e.collapseBox()}))),t.rael_collapse_subitems&&this.elements.$listItems.on("hover",(function(e){return jQuery(e.target).slideToggle()}))}expandBox(){var e=this.getCurrentDeviceSetting("rael_min_height");this.$element.removeClass(this.getSettings("classes.collapsed")),this.elements.$tocBody.slideDown(),this.elements.$widgetContainer.css("min-height",e.size+e.unit)}collapseBox(){this.$element.addClass(this.getSettings("classes.collapsed")),this.elements.$tocBody.slideUp(),this.elements.$widgetContainer.css("min-height","0px")}addAnchorTagsBeforeHeadings(){var e=this,t=this.getSettings("classes");this.elements.$headings.before((function(i){if(!jQuery(e.elements.$headings[i]).data("hasOwnID"))return'<span id="'.concat(t.headingAnchor,"-").concat(i,'" class="').concat(t.anchor,' "></span>')}))}getHeadingLink(e,t){var i=this.elements.$headings[e].id,s=this.elements.$headings[e].closest(".elementor-widget").id,n="";return i?n=i:s&&(n=s),i||s?jQuery(this.elements.$headings[e]).data("hasOwnID",!0):n="".concat(t.headingAnchor,"-").concat(e),n}setHeadingsData(){var e=this;this.headingsData=[];var t=this.getSettings("classes");this.elements.$headings.each((function(i,s){var n=e.getHeadingLink(i,t);e.headingsData.push({tag:+s.nodeName.slice(1),text:s.textContent,anchorLink:n})}))}getNestedLevel(e){for(var t=this.getSettings(),i=this.getElementSettings(),s=this.getElementSettings("rael_icon"),n="<".concat(t.listTagWrapper,' class="').concat(t.classes.listWrapper,'">');this.listItemPointer<this.headingsData.length;){var a=this.headingsData[this.listItemPointer],r=t.classes.listItemText;if(0===a.level&&(r+=" "+t.classes.firstLevelListItem),e>a.level)break;if(e===a.level){n+='<li class="'.concat(t.classes.listItem,'">'),n+='<div class="'.concat(t.classes.listTextWrapper,'">');var l='<a href="#'.concat(a.anchorLink,'" class="').concat(r,'">').concat(a.text,"</a>");"bullets"===i.rael_marker_view&&s&&(l='<i class="'.concat(s.value,'"></i>').concat(l)),n+=l,n+="</div>",this.listItemPointer++;var o=this.headingsData[this.listItemPointer];o&&e<o.level&&(n+=this.getNestedLevel(o.level)),n+="</li>"}}return n+="</".concat(t.listTagWrapper,">")}noHeadingsFound(){var e="No headings were found on this page.";return elementorFrontend.isEditMode()&&(e="No headings were found on this page."),this.elements.$tocBody.html(e)}collapseOnInit(){var e=this.getElementSettings("rael_minimized_on"),t=elementorFrontend.getCurrentDeviceMode();("tablet"===e&&"desktop"!==t||"mobile"===e&&"mobile"===t)&&this.collapseBox()}getHeadings(){var e=this.getElementSettings(),t=e.rael_headings_by_tags.join(","),i=this.getSettings("selectors"),s=e.rael_exclude_headings_by_selector;return this.elements.$pageContainer.find(t).not(i.headerTitle).filter((function(e,t){return!jQuery(t).closest(s).length}))}createNestedList(){var e=this;this.headingsData.forEach((function(t,i){t.level=0;for(var s=i-1;s>=0;s--){var n=e.headingsData[s];if(n.tag<=t.tag){t.level=n.level,n.tag<t.tag&&t.level++;break}}})),this.elements.$tocBody.html(this.getNestedLevel(0))}deactivateActiveItem(e){if(this.$activeItem&&!this.$activeItem.is(e)){var t=this.getSettings().classes;this.$activeItem.removeClass(t.activeItem),!this.$activeList||e&&this.$activeList[0].contains(e[0])||this.$activeList.slideUp()}}activateItem(e){var t,i=this.getSettings("classes");(this.deactivateActiveItem(e),e.addClass(i.activeItem),this.$activeItem=e,this.getElementSettings("rael_collapse_subitems"))&&((t=e.hasClass(i.firstLevelListItem)?e.parent().next():e.parents("."+i.listWrapper).eq(-2)).length?(this.$activeList=t,this.$activeList.stop().slideDown()):delete this.$activeList)}onListItemClick(e){var t=this;this.itemClicked=!0,setTimeout((function(){return t.itemClicked=!1}),2e3);var i,s=jQuery(e.target),n=s.parent().next(),a=this.getElementSettings("rael_collapse_subitems");a&&s.hasClass(this.getSettings("classes.firstLevelListItem"))&&n.is(":visible")&&(i=!0),this.activateItem(s),a&&i&&n.slideUp()}followAnchor(e,t){var i,s=this,n=e[0].hash;try{i=jQuery(decodeURIComponent(n))}catch(e){return}elementorFrontend.waypoint(i,(function(n){if(!s.itemClicked){var a=i.attr("id");"down"===n?(s.viewportItems[a]=!0,s.activateItem(e)):(delete s.viewportItems[a],s.activateItem(s.$listItemTexts.eq(t-1)))}}),{offset:"bottom-in-view",triggerOnce:!1}),elementorFrontend.waypoint(i,(function(n){if(!s.itemClicked){var a=i.attr("id");"down"===n?(delete s.viewportItems[a],Object.keys(s.viewportItems).length&&s.activateItem(s.$listItemTexts.eq(t+1))):(s.viewportItems[a]=!0,s.activateItem(e))}}),{offset:0,triggerOnce:!1})}followAnchors(){var e=this;this.$listItemTexts.each((function(t,i){return e.followAnchor(jQuery(i),t)}))}createFlatList(){this.elements.$tocBody.html(this.getNestedLevel())}populateTOC(){this.listItemPointer=0,this.getElementSettings().rael_hierarchical_view?this.createNestedList():this.createFlatList(),this.$listItemTexts=this.$element.find(".rael-toc__list-item-text"),this.$listItemTexts.on("click",this.onListItemClick.bind(this)),elementorFrontend.isEditMode()||this.followAnchors()}run(){if(this.elements.$headings=this.getHeadings(),!this.elements.$headings.length)return this.noHeadingsFound();this.setHeadingsData(),elementorFrontend.isEditMode()||this.addAnchorTagsBeforeHeadings(),this.populateTOC(),this.getElementSettings("rael_minimize_box")&&this.collapseOnInit()}onInit(){for(var e=this,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];super.onInit(i),this.viewportItems=[],jQuery((function(){return e.run()}))}getContainer(){var e=this.getSettings(),t=this.getElementSettings();if(t.container)return jQuery(t.container);var i=this.$element.parents(".elementor");return"popup"===i.attr("data-elementor-type")?i:jQuery(e.selectors.postContentContainer)}}jQuery(window).on("elementor/frontend/init",()=>{elementorFrontend.hooks.addAction("frontend/element_ready/rael-table-of-contents.default",e=>{elementorFrontend.elementsHandler.addHandler(i,{$element:e})})})}});