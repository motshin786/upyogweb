!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=37)}({37:function(t,e){var i;i=elementorModules.frontend.handlers.Base.extend({getDefaultSettings:()=>({selectors:{container:".rael-lottie__container",containerLink:".rael-lottie__container-link",animation:".rael-lottie__animation",caption:".rael-lottie__caption"},classes:{caption:"rael-lottie__caption"}}),getDefaultElements(){var t=this.getSettings().selectors;return{$widgetWrapper:this.$element,$container:this.$element.find(t.container),$containerLink:this.$element.find(t.containerLink),$animation:this.$element.find(t.animation),$caption:this.$element.find(t.caption),$sectionParent:this.$element.closest(".elementor-section"),$columnParent:this.$element.closest(".elementor-column")}},onInit(){elementorModules.frontend.handlers.Base.prototype.onInit.apply(this,arguments),this.lottie=null,this.state={isAnimationScrollUpdateNeededOnFirstLoad:!0,isNewLoopCycle:!1,isInViewport:!1,loop:!1,animationDirection:"forward",currentAnimationTrigger:"",effectsRelativeTo:"",hoverOutMode:"",hoverArea:"",caption:"",playAnimationCount:0,animationSpeed:0,linkTimeout:0,viewportOffset:{start:0,end:100}},this.intersectionObservers={animation:{observer:null,element:null},lazyload:{observer:null,element:null}},this.animationFrameRequest={timer:null,lastScrollY:0},this.listeners={collection:[],elements:{$widgetArea:{triggerAnimationHoverIn:null,triggerAnimationHoverOut:null},$container:{triggerAnimationClick:null}}},this.initLottie()},initLottie(){this.getLottieSettings().rael_lottie_lazyload?this.lazyloadLottie():this.generateLottie()},lazyloadLottie(){var t=this;this.intersectionObservers.lazyload.observer=elementorModules.utils.Scroll.scrollObserver({offset:"0px 0px ".concat(200,"px"),callback:function(e){e.isInViewport&&(t.generateLottie(),t.intersectionObservers.lazyload.observer.unobserve(t.intersectionObservers.lazyload.element))}}),this.intersectionObservers.lazyload.element=this.elements.$container[0],this.intersectionObservers.lazyload.observer.observe(this.intersectionObservers.lazyload.element)},generateLottie(){this.createLottieInstance(),this.setLottieEvents()},createLottieInstance(){var t=this.getLottieSettings();this.lottie=bodymovin.loadAnimation({container:this.elements.$animation[0],path:this.getAnimationPath(),renderer:t.rael_lottie_renderer,autoplay:!1,name:"rael-lottie-widget"}),this.elements.$animation.data("lottie",this.lottie)},getAnimationPath(){var t,e,i=this.getLottieSettings();return(null===(t=i.rael_lottie_source_json)||void 0===t?void 0:t.url)&&"json"===i.rael_lottie_source_json.url.toLowerCase().substr(-4)?i.rael_lottie_source_json.url:(null===(e=i.rael_lottie_source_external_url)||void 0===e?void 0:e.url)?i.rael_lottie_source_external_url.url:""},setCaption(){var t=this.getLottieSettings();("external_url"===t.rael_lottie_source||"media_file"===t.rael_lottie_source&&"custom"===t.rael_lottie_caption_source)&&this.getCaptionElement().text(t.rael_lottie_caption)},getCaptionElement(){if(!this.elements.$caption.length){var t=this.getSettings().classes;return this.elements.$caption=jQuery("<p>",{class:t.caption}),this.elements.$container.append(this.elements.$caption),this.elements.$caption}return this.elements.$caption},setLottieEvents(){var t=this;this.lottie.addEventListener("DOMLoaded",(function(){return t.onLottieDomLoaded()})),this.lottie.addEventListener("complete",(function(){return t.onComplete()}))},saveInitialValues(){var t,e=this.getLottieSettings();this.lottie.__initialTotalFrames=this.lottie.totalFrames,this.lottie.__initialFirstFrame=this.lottie.firstFrame,this.state.currentAnimationTrigger=e.rael_lottie_trigger,this.state.effectsRelativeTo=e.rael_lottie_effects_relative_to,this.state.viewportOffset.start=e.rael_lottie_viewport?e.rael_lottie_viewport.sizes.start:0,this.state.viewportOffset.end=e.rael_lottie_viewport?e.rael_lottie_viewport.sizes.end:100,this.state.animationSpeed=null===(t=e.rael_lottie_animation_play_speed)||void 0===t?void 0:t.size,this.state.linkTimeout=e.rael_lottie_link_timeout,this.state.caption=e.rael_lottie_caption,this.state.loop=e.rael_lottie_loop},setAnimationFrame(){var t=this.getAnimationFrames();t.first=t.first-this.lottie.__initialFirstFrame,this.lottie.goToAndStop(t.first,!0)},initAnimationTrigger(){switch(this.getLottieSettings().rael_lottie_trigger){case"none":this.playLottie();break;case"viewport":this.playAnimationWhenArrivingToViewport();break;case"scroll":this.playAnimationWhenBindToScroll();break;case"on_click":this.bindAnimationClickEvents();break;case"on_hover":this.bindAnimationHoverEvents()}},playAnimationWhenArrivingToViewport(){var t=this,e=this.getOffset();this.intersectionObservers.animation.observer=elementorModules.utils.Scroll.scrollObserver({offset:"".concat(e.end,"% 0% ").concat(e.start,"%"),callback:function(e){e.isInViewport?(t.state.isInViewport=!0,t.playLottie()):(t.state.isInViewport=!1,t.lottie.pause())}}),this.intersectionObservers.animation.element=this.elements.$widgetWrapper[0],this.intersectionObservers.animation.observer.observe(this.intersectionObservers.animation.element)},getOffset(){var t=this.getLottieSettings();return{start:-t.rael_lottie_viewport.sizes.start||0,end:-(100-t.rael_lottie_viewport.sizes.end)||0}},playAnimationWhenBindToScroll(){var t=this,e=this.getLottieSettings(),i=this.getOffset();this.intersectionObservers.animation.observer=elementorModules.utils.Scroll.scrollObserver({offset:"".concat(i.end,"% 0% ").concat(i.start,"%"),callback:function(e){return t.onLottieIntersection(e)}}),this.intersectionObservers.animation.element="viewport"===e.rael_lottie_effects_relative_to?this.elements.$widgetWrapper[0]:document.documentElement,this.intersectionObservers.animation.observer.observe(this.intersectionObservers.animation.element)},updateAnimationByScrollPosition(){var t;t="page"===this.getLottieSettings().rael_lottie_effects_relative_to?this.getLottiePagePercentage():"fixed"===this.getCurrentDeviceSetting("_position")?this.getLottieViewportHeightPercentage():this.getLottieViewportPercentage();var e=this.getFrameNumberByPercent(t);e-=this.lottie.__initialFirstFrame,this.lottie.goToAndStop(e,!0)},getLottieViewportPercentage(){return elementorModules.utils.Scroll.getElementViewportPercentage(this.elements.$widgetWrapper,this.getOffset())},getLottiePagePercentage(){return elementorModules.utils.Scroll.getPageScrollPercentage(this.getOffset())},getLottieViewportHeightPercentage(){return elementorModules.utils.Scroll.getPageScrollPercentage(this.getOffset(),window.innerHeight)},getFrameNumberByPercent(t){var e=this.getAnimationFrames();return t=Math.min(100,Math.max(0,t)),e.first+(e.last-e.first)*t/100},getAnimationFrames(){var t=this.getLottieSettings(),e=this.getAnimationCurrentFrame(),i=this.getAnimationRange().start,n=this.getAnimationRange().end,o=this.lottie.__initialFirstFrame,r=0===this.lottie.__initialFirstFrame?this.lottie.__initialTotalFrames:this.lottie.__initialFirstFrame+this.lottie.__initialTotalFrames;return i&&i>o&&(o=i),n&&n<r&&(r=n),this.state.isNewLoopCycle||"scroll"===t.rael_lottie_trigger||(o=i&&i>e?i:e),"backward"===this.state.animationDirection&&this.isReverseMode()&&(o=e,r=i&&i>this.lottie.__initialFirstFrame?i:this.lottie.__initialFirstFrame),{first:o,last:r,current:e,total:this.lottie.__initialTotalFrames}},getAnimationRange(){var t=this.getLottieSettings();return{start:this.getInitialFrameNumberByPercent(t.rael_lottie_start_point.size),end:this.getInitialFrameNumberByPercent(t.rael_lottie_end_point.size)}},getInitialFrameNumberByPercent(t){return t=Math.min(100,Math.max(0,t)),this.lottie.__initialFirstFrame+(this.lottie.__initialTotalFrames-this.lottie.__initialFirstFrame)*t/100},getAnimationCurrentFrame(){return 0===this.lottie.firstFrame?this.lottie.currentFrame:this.lottie.firstFrame+this.lottie.currentFrame},setLinkTimeout(){var t,e=this,i=this.getLottieSettings();"on_click"===i.rael_lottie_trigger&&(null===(t=i.rael_lottie_custom_link)||void 0===t?void 0:t.url)&&i.rael_lottie_link_timeout&&this.elements.$containerLink.on("click",(function(t){t.preventDefault(),e.isEdit||setTimeout((function(){var t="on"===i.rael_lottie_custom_link.is_external?"_blank":"_self";window.open(i.rael_lottie_custom_link.url,t)}),i.rael_lottie_link_timeout)}))},bindAnimationClickEvents(){var t=this;this.listeners.elements.$container.triggerAnimationClick=function(){t.playLottie()},this.addSessionEventListener(this.elements.$container,"click",this.listeners.elements.$container.triggerAnimationClick)},getLottieSettings(){var t=this.getElementSettings();return{...t,rael_lottie_lazyload:"yes"===t.rael_lottie_lazyload,rael_lottie_loop:"yes"===t.rael_lottie_loop}},playLottie(){var t=this.getAnimationFrames();this.lottie.stop(),this.lottie.playSegments([t.first,t.last],!0),this.state.isNewLoopCycle=!1},bindAnimationHoverEvents(){this.createAnimationHoverInEvents(),this.createAnimationHoverOutEvents()},createAnimationHoverInEvents(){var t=this,e=this.getLottieSettings(),i=this.getHoverAreaElement();this.state.hoverArea=e.rael_lottie_hover_area,this.listeners.elements.$widgetArea.triggerAnimationHoverIn=function(){t.state.animationDirection="forward",t.playLottie()},this.addSessionEventListener(i,"mouseenter",this.listeners.elements.$widgetArea.triggerAnimationHoverIn)},addSessionEventListener(t,e,i){t.on(e,i),this.listeners.collection.push({$el:t,event:e,callback:i})},createAnimationHoverOutEvents(){var t=this,e=this.getLottieSettings(),i=this.getHoverAreaElement();"pause"!==e.rael_lottie_on_hover_out&&"reverse"!==e.rael_lottie_on_hover_out||(this.state.hoverOutMode=e.rael_lottie_on_hover_out,this.listeners.elements.$widgetArea.triggerAnimationHoverOut=function(){"pause"===e.rael_lottie_on_hover_out?t.lottie.pause():(t.state.animationDirection="backward",t.playLottie())},this.addSessionEventListener(i,"mouseleave",this.listeners.elements.$widgetArea.triggerAnimationHoverOut))},getHoverAreaElement(){var t=this.getLottieSettings();return"section"===t.rael_lottie_hover_area?this.elements.$sectionParent:"column"===t.rael_lottie_hover_area?this.elements.$columnParent:this.elements.$container},setLoopOnAnimationComplete(){var t=this.getLottieSettings();this.state.isNewLoopCycle=!0,t.rael_lottie_loop&&!this.isReverseMode()?this.setLoopWhenNotReverse():t.rael_lottie_loop&&this.isReverseMode()?this.setReverseAnimationOnLoop():!t.rael_lottie_loop&&this.isReverseMode()&&this.setReverseAnimationOnSingleTrigger()},isReverseMode(){var t=this.getLottieSettings();return"yes"===t.rael_lottie_reverse_animation||"reverse"===t.rael_lottie_on_hover_out&&"backward"===this.state.animationDirection},setLoopWhenNotReverse(){var t=this.getLottieSettings();t.rael_lottie_loop_times>0?(this.state.playAnimationCount++,this.state.playAnimationCount<t.rael_lottie_loop_times?this.playLottie():this.state.playAnimationCount=0):this.playLottie()},setReverseAnimationOnLoop(){var t=this.getLottieSettings();!t.rael_lottie_loop_times||this.state.playAnimationCount<t.rael_lottie_loop_times?(this.state.animationDirection="forward"===this.state.animationDirection?"backward":"forward",this.playLottie(),"backward"===this.state.animationDirection&&this.state.playAnimationCount++):(this.state.playAnimationCount=0,this.state.animationDirection="forward")},setReverseAnimationOnSingleTrigger(){this.state.playAnimationCount<1?(this.state.playAnimationCount++,this.state.animationDirection="backward",this.playLottie()):this.state.playAnimationCount>=1&&"forward"===this.state.animationDirection?(this.state.animationDirection="backward",this.playLottie()):(this.state.playAnimationCount=0,this.state.animationDirection="forward")},setAnimationSpeed(){var t=this.getLottieSettings();t.rael_lottie_animation_play_speed&&this.lottie.setSpeed(t.rael_lottie_animation_play_speed.size)},onElementChange(){this.updateLottieValues(),this.resetAnimationTrigger()},updateLottieValues(){var t,e=this,i=this.getLottieSettings();[{sourceVal:null===(t=i.rael_lottie_play_speed)||void 0===t?void 0:t.size,stateProp:"animationSpeed",callback:function(){return e.setAnimationSpeed()}},{sourceVal:i.rael_lottie_link_timeout,stateProp:"linkTimeout",callback:function(){return e.setLinkTimeout()}},{sourceVal:i.rael_lottie_caption,stateProp:"caption",callback:function(){return e.setCaption()}},{sourceVal:i.rael_lottie_effects_relative_to,stateProp:"effectsRelativeTo",callback:function(){return e.updateAnimationByScrollPosition()}},{sourceVal:i.rael_lottie_loop,stateProp:"loop",callback:function(){return e.onLoopStateChange()}}].forEach((function(t){void 0!==t.sourceVal&&t.sourceVal!==e.state[t.stateProp]&&(e.state[t.stateProp]=t.sourceVal,t.callback())}))},onLoopStateChange(){var t="viewport"===this.state.currentAnimationTrigger&&this.state.isInViewport;this.state.loop&&(t||"none"===this.state.currentAnimationTrigger)&&this.playLottie()},resetAnimationTrigger(){var t=this.getLottieSettings(),e=t.rael_lottie_trigger!==this.state.currentAnimationTrigger,i=!!t.rael_lottie_viewport&&this.isViewportOffsetChange(),n=!!t.rael_lottie_on_hover_out&&this.isHoverOutModeChange(),o=!!t.rael_lottie_hover_area&&this.isHoverAreaChange();(e||i||n||o)&&(this.removeAnimationFrameRequests(),this.removeObservers(),this.removeEventListeners(),this.initAnimationTrigger())},isViewportOffsetChange(){var t=this.getLottieSettings(),e=t.rael_lottie_viewport.sizes.start!==this.state.viewportOffset.start,i=t.rael_lottie_viewport.sizes.end!==this.state.viewportOffset.end;return e||i},isHoverOutModeChange(){return this.getLottieSettings().rael_lottie_on_hover_out!==this.state.hoverOutMode},isHoverAreaChange(){return this.getLottieSettings().rael_lottie_hover_area!==this.state.hoverArea},removeEventListeners(){this.listeners.collection.forEach((function(t){t.$el.off(t.event,null,t.callback)}))},removeObservers(){for(var t in this.intersectionObservers)this.intersectionObservers[t].observer&&this.intersectionObservers[t].element&&this.intersectionObservers[t].observer.unobserve(this.intersectionObservers[t].element)},removeAnimationFrameRequests(){cancelAnimationFrame(this.animationFrameRequest.timer)},onLottieDomLoaded(){this.saveInitialValues(),this.setAnimationSpeed(),this.setLinkTimeout(),this.setCaption(),this.setAnimationFirstFrame(),this.initAnimationTrigger()},onComplete(){this.setLoopOnAnimationComplete()},onLottieIntersection(t){var e=this;if(t.isInViewport)this.state.isAnimationScrollUpdateNeededOnFirstLoad&&(this.state.isAnimationScrollUpdateNeededOnFirstLoad=!1,this.updateAnimationByScrollPosition()),this.animationFrameRequest.timer=requestAnimationFrame((function(){return e.onAnimationFrameRequest()}));else{var i=this.getAnimationFrames(),n="up"===t.intersectionScrollDirection?i.first:i.last;this.state.isAnimationScrollUpdateNeededOnFirstLoad=!1,cancelAnimationFrame(this.animationFrameRequest.timer),this.lottie.goToAndStop(n,!0)}},setAnimationFirstFrame(){var t=this.getAnimationFrames();t.first=t.first-this.lottie.__initialFirstFrame,this.lottie.goToAndStop(t.first,!0)},onAnimationFrameRequest(){var t=this;window.scrollY!==this.animationFrameRequest.lastScrollY&&(this.updateAnimationByScrollPosition(),this.animationFrameRequest.lastScrollY=window.scrollY),this.animationFrameRequest.timer=requestAnimationFrame((function(){return t.onAnimationFrameRequest()}))}}),jQuery(window).on("elementor/frontend/init",()=>{elementorFrontend.hooks.addAction("frontend/element_ready/rael-lottie.default",t=>{elementorFrontend.elementsHandler.addHandler(i,{$element:t})})})}});