!function(e,t,n,o){"use strict";var i={init:function(e){i.globalVars(),i.loadreaCrossSiteCopyLocalStorage(),i.loadContextMenuGroupsHooks()},setElementId:function(e){return e.forEach(function(e){e.id=elementorCommon.helpers.getUniqueId(),0<e.elements.length&&i.setElementId(e.elements)}),e},globalVars:function(t){e.lc_ajax_url=rael_cs_copy.ajax_url,e.lc_ajax_nonce=rael_cs_copy.nonce,e.lc_key=rael_cs_copy.front_key},loadreaCrossSiteCopyLocalStorage:function(){reaCrossSiteCopyLocalStorage.init({iframeUrl:"https://api.cyberchimps.com/reaLCP/",initCallback:function(){}})},loadContextMenuGroupsHooks:function(){elementor.hooks.addFilter("elements/section/contextMenuGroups",function(e,t){return i.prepareMenuItem(e,t)}),elementor.hooks.addFilter("elements/widget/contextMenuGroups",function(e,t){return i.prepareMenuItem(e,t)}),elementor.hooks.addFilter("elements/column/contextMenuGroups",function(e,t){return i.prepareMenuItem(e,t)}),elementor.hooks.addFilter("elements/container/contextMenuGroups",function(e,t){return i.prepareMenuItem(e,t)})},prepareMenuItem:function(e,t){var n=_.findIndex(e,function(e){return"clipboard"===e.name});return e.splice(n+1,0,{name:"rael-cs-copy-paste",actions:[{name:"rael-cs-copy",title:"REA Copy",icon:"eicon-copy",callback:function(){i.reaCSCopy(t)}},{name:"rael-cs-paste",title:"REA Paste",icon:"eicon-clone",callback:function(){i.reaCSPaste(t)}},]}),e},reaCSCopy:function(e){var t={elType:e.model.attributes.elType,eletype:e.model.get("widgetType"),modelJson:e.model.toJSON()};let n={};n[t.elType]=t,reaCrossSiteCopyLocalStorage.setItem("front_copy_data",JSON.stringify(n))},reaCSPaste:function(e){reaCrossSiteCopyLocalStorage.getItem("front_copy_data",function(t){var o,r,a,l=e.model.get("elType"),s=JSON.parse(t.value),c=s[Object.keys(s)[0]];void 0===c.modelJson?(o=c.elType,r=c):(o=c.modelJson.elType,r=c.modelJson),a=JSON.stringify(r);let p=/\.(jpg|png|jpeg|gif|svg)/gi.test(a),d={elType:o,settings:r.settings};var u=null,m={index:0};if("section"==o)d.elements=i.setElementId(r.elements),u=elementor.getPreviewContainer();else if("column"==o){if(d.elements=i.setElementId(r.elements),"section"===l)u=e.getContainer();else if("column"===l)u=e.getContainer().parent,m.index=e.getOption("_index")+1;else if("widget"===l)u=e.getContainer().parent.parent,m.index=e.getContainer().parent.view.getOption("_index")+1;else{console.log("not match REA CS Copy ElType");return}}else if("widget"==o){if(d.widgetType=c.eletype,u=e.getContainer(),"section"===l)u=e.children.findByIndex(0).getContainer();else if("column"===l)u=u=e.getContainer();else if("widget"===l)u=e.getContainer().parent,m.index=e.getOption("_index")+1;else if("container"===l)u=e.getContainer();else{console.log("not match REA CS Copy ElType");return}}else"container"===o&&(d.elements=i.setElementId(r.elements),u=elementor.getPreviewContainer());var g=$e.run("document/elements/create",{model:d,container:u,options:m});p&&n.ajax({url:lc_ajax_url,method:"POST",data:{action:"rael_elementor_import_rael_cs_copy_assets_files",data:a,security:lc_ajax_nonce},beforeSend:function(){g.view.$el.append('<div id="rael-cs-copy-importing-images-loader">Importing Images..</div>')}}).done(function(e){if(e.success){let t=e.data[0];d.elType=t.elType,d.settings=t.settings,"widget"===t.elType?d.widgetType=t.widgetType:d.elements=t.elements,setTimeout(function(){$e.run("document/elements/delete",{container:g}),$e.run("document/elements/create",{model:d,container:u,options:m})},800),n("#rael-cs-copy-importing-images-loader").remove()}})})}};i.init()}(window,document,jQuery,reaCrossSiteCopyLocalStorage);