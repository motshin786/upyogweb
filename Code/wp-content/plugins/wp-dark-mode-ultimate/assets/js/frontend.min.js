!function(){const r={init:()=>{"undefined"!=typeof wpDarkMode&&(r.replaceBgImages(),r.replaceImages(),r.replaceVideos(),window.addEventListener("wp_dark_mode",r.replaceBgImages),window.addEventListener("wp_dark_mode",r.replaceImages),window.addEventListener("wp_dark_mode",r.replaceVideos),setTimeout(r.replaceImages,1e3),setTimeout(r.replaceImages,3e3),jQuery(".woocommerce-product-gallery").on("wc-product-gallery-after-init",function(){wc_single_product_params.zoom_options.callback=()=>{r.replaceImages()}}),r.dynamicContentMode())},replaceImages:()=>{var e;wpDarkMode.is_ultimate_active&&wpDarkMode.frontend_mode&&(e=document.querySelectorAll("img"))&&e.forEach(e=>{var t,r=e.getAttribute("src"),a=wpDarkMode.images,o="data-light-img";a&&(document.querySelector("html").classList.contains("wp-dark-mode-active")?a.light_images.includes(r)&&(t=a.light_images.indexOf(r),e.setAttribute(o,r),(r=e.getAttribute("srcset"))&&(e.setAttribute("data-light-srcset",r),e.setAttribute("srcset",a.dark_images[t])),e.setAttribute("src",a.dark_images[t])):(r=e.getAttribute(o),a=e.getAttribute("data-light-srcset"),r&&e.setAttribute("src",r),a&&e.setAttribute("srcset",a)))})},replaceBgImages:()=>{var e=document.querySelectorAll("header, footer, div, section");e&&e.forEach(e=>{var t,r,a,o=window.getComputedStyle(e,!1).backgroundImage;"none"!==o&&(o=o.slice(4,-1).replace(/"/g,""),r="data-light-bg",t=wpDarkMode.images)&&(document.querySelector("html").classList.contains("wp-dark-mode-active")?t.light_images.includes(o)&&(a=t.light_images.indexOf(o),e.setAttribute(r,o),e.style.backgroundImage=`url('${t.dark_images[a]}')`):(o=e.getAttribute(r))&&(e.style.backgroundImage=`url('${o}')`))})},replaceVideos:()=>{const s=wpDarkMode.videos,d="data-light-video",c=document.querySelector("html").classList.contains("wp-dark-mode-active");var e;s&&((e=document.querySelectorAll("video"))&&e.forEach(e=>{var t,r=e.getAttribute("src");c?s.light_videos.includes(r)&&(t=s.light_videos.indexOf(r),e.setAttribute(d,r),e.setAttribute("src",s.dark_videos[t])):(r=e.getAttribute(d))&&e.setAttribute("src",r)}),e=document.querySelectorAll("iframe"))&&e.forEach(a=>{const o=a.getAttribute("src");var e=o.match(/^.*youtu.be\/|(v\/)|(\/u\/\w\/|embed\/|watch\?)\??v?=?(?<videoID>[^#&?]*).*/),t=o.match(/(?:http:|https:|)\/\/(?:player.|www.)?vimeo\.com\/(?:video\/|embed\/|watch\?\S*v=|v\/)?(?<videoID>\d*)/);const i=e?e.groups.videoID:t?t.groups.videoID:null;i&&(c?s.light_videos.map((e,t)=>{var r;e.includes(i)&&(a.setAttribute(d,o),t=(e=s.dark_videos[t]).match(/^.*youtu.be\/|(v\/)|(\/u\/\w\/|embed\/|watch\?)\??v?=?(?<videoID>[^#&?]*).*/),e=e.match(/(?:http:|https:|)\/\/(?:player.|www.)?vimeo\.com\/(?:video\/|embed\/|watch\?\S*v=|v\/)?(?<videoID>\d*)/),r=t?t.groups.videoID:e?e.groups.videoID:null)&&(t=t?"https://www.youtube.com/embed/"+r:e?"https://player.vimeo.com/video/"+r:null)&&a.setAttribute("src",t)}):(e=a.getAttribute(d))&&a.setAttribute("src",e))})},wait:!1,throttle:null,throttleRate:600,restartThrottle(){r.wait=!0,r.throttle=setTimeout(function(){r.wait=!1,clearTimeout(r.throttle)},1e3/(r.throttleRate/60))},dynamicContentMode(){if(wpDarkModePro.dynamic_content_mode){const t=new MutationObserver(function(e,t){!0!==r.wait&&(r.restartThrottle(),r.replaceBgImages(),r.replaceImages(),r.replaceVideos())});var e=document.querySelectorAll("body");e&&e.forEach(e=>{t.observe(e,{childList:!0,subtree:!0})})}}};window.addEventListener("DOMContentLoaded",r.init)}();