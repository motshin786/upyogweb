(()=>{var i={617:(t,e,i)=>{var c=i(311);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i=function(){function o(t,e,i){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");var n=this;n.data=t,n.images=e,n.id=this.get_config("gallery_id"),n.envirabox_config=i,n.log(n.data),n.log(n.images),n.log(n.envirabox_config),n.log(n.id),n.init()}var t,e,i;return t=o,(e=[{key:"init",value:function(){this.lightbox()}},{key:"lightbox",value:function(){var o=this,t=o.get_config("mobile_touchwipe_close")?{vertical:!0,momentum:!0}:{vertical:!1,momentum:!1},e=!o.get_config("thumbnails_hide")||o.get_config("thumbnails_hide"),i=o.is_mobile()?this.get_config("mobile_thumbnails_height"):this.get_config("thumbnails_height"),e=!!o.get_config("thumbnails")&&{autoStart:e,hideOnClose:!0,position:o.get_lightbox_config("thumbs_position"),rowHeight:"side"!==o.get_lightbox_config("thumbs_position")&&i},i=!!o.get_config("slideshow")&&{autoStart:o.get_config("autoplay"),speed:o.get_config("ss_speed")},n=!o.get_config("fullscreen")||!o.get_config("open_fullscreen")||{autoStart:!0},r="zomm-in-out"==o.get_config("lightbox_open_close_effect")?"zoom-in-out":o.get_config("lightbox_open_close_effect"),s="zomm-in-out"==o.get_config("effect")?"zoom":o.get_config("effect"),a=[],l="";if(o.lightbox_options={selector:'[data-envirabox="'+o.id+'"]',loop:o.get_config("loop"),margin:o.get_lightbox_config("margins"),gutter:o.get_lightbox_config("gutter"),keyboard:o.get_config("keyboard"),arrows:o.get_lightbox_config("arrows"),arrow_position:o.get_lightbox_config("arrow_position"),infobar:o.get_lightbox_config("infobar"),toolbar:o.get_lightbox_config("toolbar"),idleTime:!!o.get_lightbox_config("idle_time")&&o.get_lightbox_config("idle_time"),smallBtn:o.get_lightbox_config("show_smallbtn"),protect:!1,image:{preload:!1},animationEffect:r,animationDuration:o.get_lightbox_config("animation_duration")?o.get_lightbox_config("animation_duration"):300,btnTpl:{smallBtn:o.get_lightbox_config("small_btn_template")},zoomOpacity:"auto",transitionEffect:s,transitionDuration:o.get_lightbox_config("transition_duration")?o.get_lightbox_config("transition_duration"):200,baseTpl:o.get_lightbox_config("base_template"),spinnerTpl:'<div class="envirabox-loading"></div>',errorTpl:o.get_lightbox_config("error_template"),fullScreen:!!o.get_config("fullscreen")&&n,touch:t,hash:!1,insideCap:o.get_lightbox_config("inner_caption"),capPosition:o.get_lightbox_config("caption_position"),capTitleShow:!(!o.get_config("lightbox_title_caption")||"none"==o.get_config("lightbox_title_caption")||"0"==o.get_config("lightbox_title_caption")||!1!==["classical_dark","classical_light","infinity_dark","infinity_light"].includes(o.get_config("lightbox_theme")))&&o.get_config("lightbox_title_caption"),media:{youtube:{params:{autoplay:0}}},wheel:0!=this.get_config("mousewheel"),slideShow:i,thumbs:e,lightbox_theme:o.get_config("lightbox_theme"),mobile:{clickContent:function(t,e){return o.get_lightbox_config("click_content")?o.get_lightbox_config("click_content"):"toggleControls"},clickSlide:function(t,e){return o.get_lightbox_config("click_slide")?o.get_lightbox_config("click_slide"):"close"},dblclickContent:!1,dblclickSlide:!1},clickContent:function(t,e){return!("image"!==t.type||"undefined"!==o.get_config("disable_zoom")&&"1"==o.get_config("disable_zoom")||"1"==o.get_config("zoom_hover")&&"undefined"!=typeof envira_zoom&&void 0!==envira_zoom.enviraZoomActive)&&"zoom"},clickSlide:o.get_lightbox_config("click_slide")?o.get_lightbox_config("click_slide"):"close",clickOutside:o.get_lightbox_config("click_outside")?o.get_lightbox_config("click_outside"):"toggleControls",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,videoPlayPause:!!o.get_config("videos_playpause"),videoProgressBar:!!o.get_config("videos_progress"),videoPlaybackTime:!!o.get_config("videos_current"),videoVideoLength:!!o.get_config("videos_duration"),videoVolumeControls:!!o.get_config("videos_volume"),videoControlBar:!!o.get_config("videos_controls"),videoFullscreen:!!o.get_config("videos_fullscreen"),videoDownload:!!o.get_config("videos_download"),videoPlayIcon:!!o.get_config("videos_play_icon_thumbnails"),videoAutoPlay:!!o.get_config("videos_autoplay"),onInit:function(t,e){o.initImage=!0,c(document).trigger("envirabox_api_on_init",[o,t,e])},beforeLoad:function(t,e){c(document).trigger("envirabox_api_before_load",[o,t,e])},afterLoad:function(t,e){c(document).trigger("envirabox_api_after_load",[o,t,e])},beforeShow:function(t,e){"base"==o.data.lightbox_theme&&""==l&&0<c(".envirabox-position-overlay").length&&(l=c(".envirabox-position-overlay")),o.initImage=!1,0===o.get_config("loop")&&0==t.currIndex?c(".envirabox-slide--current a.envirabox-prev").hide():c(".envirabox-slide--current a.envirabox-prev").show(),0===o.get_config("loop")&&t.currIndex==Object.keys(t.group).length-1?c(".envirabox-slide--current a.envirabox-next").hide():c(".envirabox-slide--current a.envirabox-next").show(),c(document).trigger("envirabox_api_before_show",[o,t,e])},afterShow:function(t,e){var i,n;c(".envirabox-thumbs ul").find("li").removeClass("focused"),c(".envirabox-thumbs ul").find("li.envirabox-thumbs-active").focus().addClass("focused"),null!=i&&null!=n||(n=i=!1),1!=i&&(c(".envirabox-position-overlay").each(function(){c(this).prependTo(e.$content)}),i=!0),0===o.get_config("loop")&&0==t.currIndex?c(".envirabox-outer a.envirabox-prev").hide():c(".envirabox-outer a.envirabox-prev").show(),0===o.get_config("loop")&&t.currIndex==Object.keys(t.group).length-1?c(".envirabox-outer a.envirabox-next").hide():c(".envirabox-outer a.envirabox-next").show(),void 0!==o.get_config("keyboard")&&0===o.get_config("keyboard")&&c(window).keypress(function(t){-1<[32,37,38,39,40].indexOf(t.keyCode)&&t.preventDefault()}),c(".envirabox-slide--current .envirabox-title").css("visibility","visible"),0<c(".envirabox-slide--current .envirabox-caption").length&&0<c(".envirabox-slide--current .envirabox-caption").html().length?(c(".envirabox-slide--current .envirabox-caption").css("visibility","visible"),c(".envirabox-slide--current .envirabox-caption-wrap").css("visibility","visible")):(c(".envirabox-slide--current .envirabox-caption").css("visibility","hidden"),c(".envirabox-slide--current .envirabox-caption-wrap").css("visibility","hidden")),c(".envirabox-navigation").show(),c(".envirabox-navigation-inside").show(),void 0!==l&&""!=l&&0<c(".envirabox-slide--current .envirabox-image-wrap").length?c(".envirabox-image-wrap").prepend(l):void 0!==l&&""!=l&&0<c(".envirabox-slide--current .envirabox-content").length&&c(".envirabox-content").prepend(l),c(document).trigger("envirabox_api_after_show",[o,t,e]),void 0===t.opts.capTitleShow||"caption"!=t.opts.capTitleShow&&"title_caption"!=t.opts.capTitleShow||""!=e.caption?c(".envirabox-caption-wrap .envirabox-caption").css("visibility","visible"):c(".envirabox-caption-wrap .envirabox-caption").css("visibility","hidden")},beforeClose:function(t,e){c(document).trigger("envirabox_api_before_close",[o,t,e])},afterClose:function(t,e){c(document).trigger("envirabox_api_after_close",[o,t,e])},onActivate:function(t,e){c(document).trigger("envirabox_api_on_activate",[o,t,e])},onDeactivate:function(t,e){c(document).trigger("envirabox_api_on_deactivate",[o,t,e])}},o.is_mobile()&&1!==o.get_config("mobile_thumbnails")&&(o.lightbox_options.thumbs=!1),o.get_lightbox_config("load_all")){r=o.images;if("object"!==h(r))return;c.each(r,function(t){void 0!==this.video&&void 0!==this.video.embed_url&&(this.src=this.video.embed_url),a.push(this)})}else{s=c(".envira-gallery-"+o.id);c.each(s,function(t){a.push(this)})}c(document).trigger("envirabox_options",o),c("#envira-links-"+o.id).on("click",function(t){t.preventDefault(),t.stopImmediatePropagation();var t=c(this),e=t.data("gallery-images"),t=t.data("gallery-sort-ids"),i=(void 0!==t&&o.data.gallery_sort,void 0!==t&&"gallery"==o.data.gallery_sort?t:e),e=c.envirabox.getInstance();void 0!==t&&""!=t&&(a=[],c.each(t,function(t,e){a.push(i[e])})),e||c.envirabox.open(a,o.lightbox_options)})}},{key:"get_config",value:function(t){return this.data[t]}},{key:"get_lightbox_config",value:function(t){return this.envirabox_config[t]}},{key:"get_image",value:function(t){return this.images[t]}},{key:"is_mobile",value:function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},{key:"log",value:function(t){null!=envira_gallery.debug&&envira_gallery.debug&&null!=t&&console.log(t)}}])&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();t.exports=i},556:(t,e,i)=>{var r,n,o,i=i(311);n=(r=i).fn.justifiedGallery,o={},r.fn.enviraJustifiedGallery=function(){var t=n.apply(this,arguments);if(void 0!==(o=t.data("jg.controller")))return o.displayEntryCaption=function(t){var e,i,n,o=this.imgFromEntry(t);null!==o&&this.settings.captions?(null===(e=this.captionFromEntry(t))&&(i="",void 0!==(n=o.data("automatic-caption"))&&"string"==typeof n&&(n=n.replace("<","&lt;"),i=r("<textarea />").html(n).text()),void 0!==i&&this.isValidCaption(i)&&(e=r('<div class="caption">'+i+"</div>"),o.after(e),t.data("jg.createdCaption",!0))),null!==e&&(this.settings.cssAnimation||e.stop().fadeTo(0,this.settings.captionSettings.nonVisibleOpacity),n=e.css("height"),t.find(".envira-gallery-position-overlay.envira-gallery-bottom-left").css("bottom",n),t.find(".envira-gallery-position-overlay.envira-gallery-bottom-right").css("bottom",n),this.addCaptionEventsHandlers(t))):this.removeCaptionEventsHandlers(t)},o}},496:(t,e,i)=>{var v=i(311),m=i(311),i=function(){function s(t){if(null===o&&(o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,null===o))return!1;var e=(t=t.getBoundingClientRect()).top,i=t.left,n=t.width,t=t.height;return e=e<r&&0<e+t&&i<o&&0<i+n}function a(a,e){if(null!==(t=e.getAttribute("data-envira-srcset")))if(0<(t=t.trim()).length){for(var t,i=[],n=(t=t.split(",")).length,o=0;o<n;o++){var r,s,l=t[o].trim();0!==l.length&&(l=-1===(s=l.lastIndexOf(" "))?(r=l,999998):(r=l.substr(0,s),parseInt(l.substr(s+1,l.length-s-2),10)),s=!1,(s=-1===r.indexOf(".webp",r.length-5)||f?!0:s)&&i.push([r,l]))}i.sort(function(t,e){if(t[1]<e[1])return-1;if(t[1]>e[1])return 1;if(t[1]===e[1]){if(-1!==e[0].indexOf(".webp",e[0].length-5))return 1;if(-1!==t[0].indexOf(".webp",t[0].length-5))return-1}return 0}),t=i}else t=[];else t=[];for(var c,h,d,u=a.offsetWidth*window.devicePixelRatio,p=null,n=t.length,o=0;o<n;o++){var g=t[o];if(g[1]>=u){p=g;break}}null===p&&(p=[e.getAttribute("data-envira-src"),999999]),void 0===a.lastSetOption&&(a.lastSetOption=["",0]),a.lastSetOption[1]<p[1]&&(c=0===a.lastSetOption[1],h=p[0],(d=new Image).addEventListener("load",function(){var t;e.setAttribute("srcset",h),e.setAttribute("src",h),c&&null!==(t=a.getAttribute("data-onlazyload"))&&new Function(t).bind(a)()},!1),d.addEventListener("error",function(){a.lastSetOption=["",0]},!1),d.onload=function(){var t,e,i,n,o,r,s;s=(r=(o=(n="envira-lazy"==a.getAttribute("class")&&m(a).not("img")?(n=a.firstElementChild,t=a,e=n.id,i=n.src,v(n).data("envira-gallery-id")):(n=d,e=(t=a).id,i=a.src,v(a).data("envira-gallery-id")),v(a).data("envira-item-id")),this.naturalWidth),this.naturalHeight),null==n&&(n=0),v(document).trigger({type:"envira_image_lazy_load_complete",container:t,image_src:i,image_id:e,item_id:o,gallery_id:n,naturalWidth:r,naturalHeight:s})},d.onerror=function(){console.error("Cannot load image")},d.src=h,a.lastSetOption=p)}function l(){o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}function c(t){var e;void 0!==t&&(e=function(t,e){for(var i=t.length,n=0;n<i;n++){var o=t[n],r=e?o:o.parentNode;!0===s(r)&&a(r,o)}},t&&"string"==typeof t&&(void 0!==envira_gallery.ll_initial&&void 0!==envira_gallery.ll_delay&&!1!==envira_gallery.ll_initial||(envira_gallery.ll_delay=0),setTimeout(function(){v(t+" div.envira-lazy > img").exists()?e(document.querySelectorAll(t+" div.envira-lazy > img"),!1):v(t+" img.envira-lazy").exists()&&e(document.querySelectorAll(t+" img.envira-lazy"),!0),envira_gallery.ll_initial},envira_gallery.ll_delay)))}var f,h,o=null,r=null,d="undefined"!=typeof IntersectionObserver;v.fn.exists=function(){return 0<this.length};return"srcset"in document.createElement("img")&&void 0!==window.devicePixelRatio&&void 0!==window.addEventListener&&void 0!==document.querySelectorAll&&(l(),(h=new Image).src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoCAAEADMDOJaQAA3AA/uuuAAA=",h.onload=h.onerror=function(){function t(){var t;d&&(t=null),window.addEventListener("resize",function(){l(),d?(window.clearTimeout(t),t=window.setTimeout(function(){c()},300)):r()}),d?(window.addEventListener("load",c),e()):(window.addEventListener("scroll",r),window.addEventListener("load",r),s()),"undefined"!=typeof MutationObserver&&new MutationObserver(function(){d?(e(),c()):(s(),r())}).observe(document.querySelector("body"),{childList:!0,subtree:!0})}var e,o,i,n,r,s;f=2===h.width,d?(e=function(){for(var t=document.querySelectorAll(".envira-lazy"),e=t.length,i=0;i<e;i++){var n=t[i];void 0===n.responsivelyLazyObserverAttached&&(n.responsivelyLazyObserverAttached=!0,o.observe(n))}},o=new IntersectionObserver(function(t){for(var e in t){var i,e=t[e];0<e.intersectionRatio&&("img"!==(e=e.target).tagName.toLowerCase()?null!==(i=e.querySelector("img"))&&a(e,i):a(e,e))}}),c()):(i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},n=function t(){i.call(null,t)},r=function(){n()},s=function(){for(var t=document.querySelectorAll(".envira-lazy"),e=t.length,i=0;i<e;i++)for(var n=t[i].parentNode;n&&"html"!==n.tagName.toLowerCase();)void 0===n.responsivelyLazyScrollAttached&&(n.responsivelyLazyScrollAttached=!0,n.addEventListener("scroll",r)),n=n.parentNode});"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}),{run:c,isVisible:s,setGalleryClass:function(t){alert("setting - "+t)}}}();window.enviraLazy=i,t.exports=i},390:()=>{!function(r,e){"use strict";var o,i=function(){for(var t,e,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n={},o=0;o<i.length;o++)if((t=i[o])&&t[1]in r){for(e=0;e<t.length;e++)n[i[0][e]]=t[e];return n}return!1}();i?(o={request:function(t){(t=t||r.documentElement)[i.requestFullscreen](t.ALLOW_KEYBOARD_INPUT)},exit:function(){r[i.exitFullscreen](),e.envirabox.close(!0)},toggle:function(t){t=t||r.documentElement,this.isFullscreen()?this.exit():this.request(t)},isFullscreen:function(){return Boolean(r[i.fullscreenElement])},enabled:function(){return Boolean(r[i.fullscreenEnabled])}},e(r).on({"onInit.eb":function(t,e){var i,n=e.$refs.toolbar.find("[data-envirabox-fullscreen]");e&&!e.FullScreen&&e.group[e.currIndex].opts.fullScreen?((i=e.$refs.container).on("click.eb-fullscreen","[data-envirabox-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),o.toggle(i[0])}),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&o.request(i[0]),e.FullScreen=o):n.hide()},"afterKeydown.eb":function(t,e,i,n,o){e&&e.FullScreen&&70===o&&(n.preventDefault(),e.FullScreen.toggle(e.$refs.container[0]))},"beforeClose.eb":function(t){t&&t.FullScreen&&o.exit()}}),e(r).on(i.fullscreenchange,function(){var t=e.envirabox.getInstance();t.current&&"image"===t.current.type&&t.isAnimating&&(t.current.$content.css("transition","none"),t.isAnimating=!1,t.update(!0,!0,0)),e(r).trigger("onFullscreenChange",o.isFullscreen())})):e&&e.envirabox&&(e.envirabox.defaults.btnTpl.fullScreen=!1)}(document,window.jQuery)},850:(t,e,i)=>{i=i(311);!function(h,a,d){"use strict";function u(t){var e,i=[];for(e in t=(t=t.originalEvent||t||h.e).touches&&t.touches.length?t.touches:t.changedTouches&&t.changedTouches.length?t.changedTouches:[t])t[e].pageX?i.push({x:t[e].pageX,y:t[e].pageY}):t[e].clientX&&i.push({x:t[e].clientX,y:t[e].clientY});return i}function p(t,e,i){return e&&t?"x"===i?t.x-e.x:"y"===i?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0}function l(t){if(t.is('a,area,button,[role="button"],input,label,select,summary,textarea')||d.isFunction(t.get(0).onclick)||t.data("selectable"))return 1;for(var e=0,i=t[0].attributes,n=i.length;e<n;e++)if("data-envirabox-"===i[e].nodeName.substr(0,14))return 1}function c(t){for(var e,i,n,o=!1;(e=t.get(0),n=i=n=i=void 0,i=h.getComputedStyle(e)["overflow-y"],n=h.getComputedStyle(e)["overflow-x"],i=("scroll"===i||"auto"===i)&&e.scrollHeight>e.clientHeight,n=("scroll"===n||"auto"===n)&&e.scrollWidth>e.clientWidth,!(o=i||n))&&((t=t.parent()).length&&!t.hasClass("envirabox-stage")&&!t.is("body")););return o}function i(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.eb.touch mousedown.eb.touch",d.proxy(e,"ontouchstart"))}var g=h.requestAnimationFrame||h.webkitRequestAnimationFrame||h.mozRequestAnimationFrame||h.oRequestAnimationFrame||function(t){return h.setTimeout(t,1e3/60)},f=h.cancelAnimationFrame||h.webkitCancelAnimationFrame||h.mozCancelAnimationFrame||h.oCancelAnimationFrame||function(t){h.clearTimeout(t)};i.prototype.destroy=function(){this.$container.off(".eb.touch")},i.prototype.ontouchstart=function(t){var e=this,i=d(t.target),n=e.instance,o=n.current,r=o.$content,s="touchstart"==t.type;if(s&&e.$container.off("mousedown.eb.touch"),!o||e.instance.isAnimating||e.instance.isClosing)return t.stopPropagation(),void t.preventDefault();t.originalEvent&&2==t.originalEvent.button||!i.length||l(i)||l(i.parent())||t.originalEvent.clientX>i[0].clientWidth+i.offset().left||(e.startPoints=u(t),!e.startPoints||1<e.startPoints.length&&n.isSliding||(e.$target=i,e.$content=r,e.canTap=!0,e.opts=o.opts.touch,d(a).off(".eb.touch"),d(a).on(s?"touchend.eb.touch touchcancel.eb.touch":"mouseup.eb.touch mouseleave.eb.touch",d.proxy(e,"ontouchend")),d(a).on(s?"touchmove.eb.touch":"mousemove.eb.touch",d.proxy(e,"ontouchmove")),!e.opts&&!n.canPan()||!i.is(e.$stage)&&!e.$stage.find(i).length?i.is("img")&&t.preventDefault():(t.stopPropagation(),d.envirabox.isMobile&&(c(e.$target)||c(e.$target.parent()))||t.preventDefault(),e.canvasWidth=Math.round(o.$slide[0].clientWidth),e.canvasHeight=Math.round(o.$slide[0].clientHeight),e.startTime=(new Date).getTime(),e.distanceX=e.distanceY=e.distance=0,e.isPanning=!1,e.isSwiping=!1,e.isZooming=!1,e.sliderStartPos=e.sliderLastPos||{top:0,left:0},e.contentStartPos=d.envirabox.getTranslate(e.$content),e.contentLastPos=null,1!==e.startPoints.length||e.isZooming||(e.canTap=!n.isSliding,"image"===o.type&&(e.contentStartPos.width>e.canvasWidth+1||e.contentStartPos.height>e.canvasHeight+1)?(d.envirabox.stop(e.$content),e.$content.css("transition-duration","0ms"),e.isPanning=!0):e.isSwiping=!0,e.$container.addClass("envirabox-controls--isGrabbing")),2!==e.startPoints.length||n.isAnimating||o.hasError||"image"!==o.type||!o.isLoaded&&!o.$ghost||(e.isZooming=!0,e.isSwiping=!1,e.isPanning=!1,d.envirabox.stop(e.$content),e.$content.css("transition-duration","0ms"),e.centerPointStartX=.5*(e.startPoints[0].x+e.startPoints[1].x)-d(h).scrollLeft(),e.centerPointStartY=.5*(e.startPoints[0].y+e.startPoints[1].y)-d(h).scrollTop(),e.percentageOfImageAtPinchPointX=(e.centerPointStartX-e.contentStartPos.left)/e.contentStartPos.width,e.percentageOfImageAtPinchPointY=(e.centerPointStartY-e.contentStartPos.top)/e.contentStartPos.height,e.startDistanceBetweenFingers=p(e.startPoints[0],e.startPoints[1])))))},i.prototype.ontouchmove=function(t){var e=this;if(e.newPoints=u(t),d.envirabox.isMobile&&(c(e.$target)||c(e.$target.parent())))return t.stopPropagation(),void(e.canTap=!1);(e.opts||e.instance.canPan())&&e.newPoints&&e.newPoints.length&&(e.distanceX=p(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=p(e.newPoints[0],e.startPoints[0],"y"),e.distance=p(e.newPoints[0],e.startPoints[0]),0<e.distance&&(e.$target.is(e.$stage)||e.$stage.find(e.$target).length)&&(t.stopPropagation(),t.preventDefault(),e.isSwiping?e.onSwipe():e.isPanning?e.onPan():e.isZooming&&e.onZoom()))},i.prototype.onSwipe=function(){var t,n=this,e=n.isSwiping,i=n.sliderStartPos.left||0;!0===e?10<Math.abs(n.distance)&&(n.canTap=!1,n.instance.group.length<2&&n.opts.vertical?n.isSwiping="y":n.instance.isSliding||!1===n.opts.vertical||"auto"===n.opts.vertical&&800<d(h).width()?n.isSwiping="x":(t=Math.abs(180*Math.atan2(n.distanceY,n.distanceX)/Math.PI),n.isSwiping=45<t&&t<135?"y":"x"),n.instance.isSliding=n.isSwiping,n.startPoints=n.newPoints,d.each(n.instance.slides,function(t,e){d.envirabox.stop(e.$slide),e.$slide.css("transition-duration","0ms"),e.inTransition=!1,e.pos===n.instance.current.pos&&(n.sliderStartPos.left=d.envirabox.getTranslate(e.$slide).left)}),n.instance.SlideShow&&n.instance.SlideShow.isActive&&n.instance.SlideShow.stop()):("x"==e&&(0<n.distanceX&&(n.instance.group.length<2||0===n.instance.current.index&&!n.instance.current.opts.loop)?i+=Math.pow(n.distanceX,.8):n.distanceX<0&&(n.instance.group.length<2||n.instance.current.index===n.instance.group.length-1&&!n.instance.current.opts.loop)?i-=Math.pow(-n.distanceX,.8):i+=n.distanceX),n.sliderLastPos={top:"x"==e?0:n.sliderStartPos.top+n.distanceY,left:i},n.requestId&&(f(n.requestId),n.requestId=null),n.requestId=g(function(){n.sliderLastPos&&(d.each(n.instance.slides,function(t,e){var i=e.pos-n.instance.currPos;d.envirabox.setTranslate(e.$slide,{top:n.sliderLastPos.top,left:n.sliderLastPos.left+i*n.canvasWidth+i*e.opts.gutter})}),n.$container.addClass("envirabox-is-sliding"))}))},i.prototype.onPan=function(){var t,e,i=this;i.canTap=!1,e=i.contentStartPos.width>i.canvasWidth?i.contentStartPos.left+i.distanceX:i.contentStartPos.left,t=i.contentStartPos.top+i.distanceY,(e=i.limitMovement(e,t,i.contentStartPos.width,i.contentStartPos.height)).scaleX=i.contentStartPos.scaleX,e.scaleY=i.contentStartPos.scaleY,i.contentLastPos=e,i.requestId&&(f(i.requestId),i.requestId=null),i.requestId=g(function(){d.envirabox.setTranslate(i.$content,i.contentLastPos)})},i.prototype.limitMovement=function(t,e,i,n){var o=this,r=o.canvasWidth,s=o.canvasHeight,a=o.contentStartPos.left,l=o.contentStartPos.top,c=o.distanceX,o=o.distanceY,h=Math.max(0,.5*r-.5*i),d=Math.max(0,.5*s-.5*n),u=Math.min(r-i,.5*r-.5*i),p=Math.min(s-n,.5*s-.5*n);return r<i&&(0<c&&h<t&&(t=h-1+Math.pow(-h+a+c,.8)||0),c<0&&t<u&&(t=u+1-Math.pow(u-a-c,.8)||0)),s<n&&(0<o&&d<e&&(e=d-1+Math.pow(-d+l+o,.8)||0),o<0&&e<p&&(e=p+1-Math.pow(p-l-o,.8)||0)),{top:e,left:t}},i.prototype.limitPosition=function(t,e,i,n){var o=this.canvasWidth,r=this.canvasHeight;return t=o<i?(t=0<t?0:t)<o-i?o-i:t:Math.max(0,o/2-i/2),{top:e=r<n?(e=0<e?0:e)<r-n?r-n:e:Math.max(0,r/2-n/2),left:t}},i.prototype.onZoom=function(){var t=this,e=t.contentStartPos.width,i=t.contentStartPos.height,n=t.contentStartPos.left,o=t.contentStartPos.top,r=p(t.newPoints[0],t.newPoints[1])/t.startDistanceBetweenFingers,s=Math.floor(e*r),a=Math.floor(i*r),e=(e-s)*t.percentageOfImageAtPinchPointX,i=(i-a)*t.percentageOfImageAtPinchPointY,l=(t.newPoints[0].x+t.newPoints[1].x)/2-d(h).scrollLeft(),c=(t.newPoints[0].y+t.newPoints[1].y)/2-d(h).scrollTop(),l=l-t.centerPointStartX,o={top:o+(i+(c-t.centerPointStartY)),left:n+(e+l),scaleX:t.contentStartPos.scaleX*r,scaleY:t.contentStartPos.scaleY*r};t.canTap=!1,t.newWidth=s,t.newHeight=a,t.contentLastPos=o,t.requestId&&(f(t.requestId),t.requestId=null),t.requestId=g(function(){d.envirabox.setTranslate(t.$content,t.contentLastPos)})},i.prototype.ontouchend=function(t){var e=this,i=Math.max((new Date).getTime()-e.startTime,1),n=e.isSwiping,o=e.isPanning,r=e.isZooming;if(e.endPoints=u(t),e.$container.removeClass("envirabox-controls--isGrabbing"),d(a).off(".eb.touch"),e.requestId&&(f(e.requestId),e.requestId=null),e.isSwiping=!1,e.isPanning=!1,e.isZooming=!1,e.canTap)return e.onTap(t);e.speed=366,e.velocityX=e.distanceX/i*.5,e.velocityY=e.distanceY/i*.5,e.speedX=Math.max(.5*e.speed,Math.min(1.5*e.speed,1/Math.abs(e.velocityX)*e.speed)),o?e.endPanning():r?e.endZooming():e.endSwiping(n)},i.prototype.endSwiping=function(t){var e=this,i=!1;e.instance.isSliding=!1,e.sliderLastPos=null,"y"==t&&50<Math.abs(e.distanceY)?(d.envirabox.animate(e.instance.current.$slide,{top:e.sliderStartPos.top+e.distanceY+150*e.velocityY,opacity:0},150),i=e.instance.close(!0,300)):"x"==t&&50<e.distanceX&&1<e.instance.group.length?i=e.instance.previous(e.speedX):"x"==t&&e.distanceX<-50&&1<e.instance.group.length&&(i=e.instance.next(e.speedX)),!1!==i||"x"!=t&&"y"!=t||e.instance.jumpTo(e.instance.current.index,150),e.$container.removeClass("envirabox-is-sliding")},i.prototype.endPanning=function(){var t,e,i=this;i.contentLastPos&&(t=!1===i.opts.momentum?(e=i.contentLastPos.left,i.contentLastPos.top):(e=i.contentLastPos.left+i.velocityX*i.speed,i.contentLastPos.top+i.velocityY*i.speed),(e=i.limitPosition(e,t,i.contentStartPos.width,i.contentStartPos.height)).width=i.contentStartPos.width,e.height=i.contentStartPos.height,d.envirabox.animate(i.$content,e,330))},i.prototype.endZooming=function(){var t,e,i=this,n=i.instance.current,o=i.newWidth,r=i.newHeight;i.contentLastPos&&(t=i.contentLastPos.left,e=i.contentLastPos.top,d.envirabox.setTranslate(i.$content,{top:e,left:t,width:o,height:r,scaleX:1,scaleY:1}),o<i.canvasWidth&&r<i.canvasHeight?i.instance.scaleToFit(150):o>n.width||r>n.height?i.instance.scaleToActual(i.centerPointStartX,i.centerPointStartY,150):(n=i.limitPosition(t,e,o,r),d.envirabox.setTranslate(i.content,d.envirabox.getTranslate(i.$content)),d.envirabox.animate(i.$content,n,150)))},i.prototype.onTap=function(e){function t(t){if(t=s.opts[t],t=d.isFunction(t)?t.apply(r,[s,e]):t)switch(t){case"close":r.close(n.startEvent);break;case"toggleControls":r.toggleControls(!0);break;case"next":r.next();break;case"nextOrClose":1<r.group.length?r.next():r.close(n.startEvent);break;case"zoom":"image"==s.type&&(s.isLoaded||s.$ghost)&&(r.canPan()?r.scaleToFit():r.isScaledDown()?r.scaleToActual(l,c):r.group.length<2&&r.close(n.startEvent))}}var i,n=this,o=d(e.target),r=n.instance,s=r.current,a=e&&u(e)||n.startPoints,l=a[0]?a[0].x-n.$stage.offset().left:0,c=a[0]?a[0].y-n.$stage.offset().top:0;if(!(e.originalEvent&&2==e.originalEvent.button||r.isSliding||l>o[0].clientWidth+o.offset().left)){if(o.is(".envirabox-bg,.envirabox-inner,.envirabox-outer,.envirabox-container"))i="Outside";else if(o.is(".envirabox-slide"))i="Slide";else{if(!r.current.$content||!r.current.$content.has(e.target).length)return;i="Content"}if(n.tapped){if(clearTimeout(n.tapped),n.tapped=null,50<Math.abs(l-n.tapX)||50<Math.abs(c-n.tapY)||r.isSliding)return this;t("dblclick"+i)}else n.tapX=l,n.tapY=c,s.opts["dblclick"+i]&&s.opts["dblclick"+i]!==s.opts["click"+i]?n.tapped=setTimeout(function(){n.tapped=null,t("click"+i)},300):t("click"+i);return this}},d(a).on("onActivate.eb",function(t,e){e&&!e.Guestures&&(e.Guestures=new i(e))}),d(a).on("beforeClose.eb",function(t,e){e&&e.Guestures&&e.Guestures.destroy()})}(window,document,window.jQuery||i)},827:()=>{!function(f){"use strict";function v(i,t,e){if(i)return"object"===f.type(e=e||"")&&(e=f.param(e,!0)),f.each(t,function(t,e){i=i.replace("$"+t,e||"")}),e.length&&(i+=(0<i.indexOf("?")?"&":"?")+e),i}var i={youtube_playlist:{matcher:/^http:\/\/(?:www\.)?youtube\.com\/watch\?((v=[^&\s]*&list=[^&\s]*)|(list=[^&\s]*&v=[^&\s]*))(&[^&\s]*)*$/,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/videoseries?list=$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},metacafe:{matcher:/metacafe.com\/watch\/(\d+)\/(.*)?/,type:"iframe",url:"//www.metacafe.com/embed/$1/?ap=1"},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"iframe",url:"//www.dailymotion.com/embed/video/$1"},facebook:{matcher:/facebook.com\/facebook\/videos\/(.*)\/?(.*)/,type:"genericDiv",subtype:"facebook",url:"//www.facebook.com/facebook/videos/$1"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},instagram_tv:{matcher:/(instagr\.am|instagram\.com)\/tv\/([a-zA-Z0-9_\-]+)\/?/i,type:"iframe",url:"//$1/p/$2/media/?size=l"},wistia:{matcher:/wistia.com\/medias\/(.*)\/?(.*)/,type:"iframe",url:"//fast.wistia.net/embed/iframe/$1"},twitch:{matcher:/player.twitch.tv\/[\\?&]video=([^&#]*)/,type:"iframe",url:"//player.twitch.tv/?video=$1"},videopress:{matcher:/videopress.com\/v\/(.*)\/?(.*)/,type:"iframe",url:"//videopress.com/embed/$1"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12])+"&output="+(t[12]&&0<t[12].indexOf("layer=c")?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};f(document).on("onInit.eb",function(t,e){f.each(e.group,function(t,o){var e,r,s,a,l,c,h=o.src||"",d=!1,u=!1,p=!1,g=!1;o.type||(e=f.extend(!0,{},i,o.opts.media),f.each(e,function(t,e){if(s=h.match(e.matcher),c={},s){if(g=t,d=e.type,void 0!==e.subtype&&(u=e.subtype),e.paramPlace&&s[e.paramPlace]){l=(l="?"==(l=s[e.paramPlace])[0]?l.substring(1):l).split("&");for(var i=0;i<l.length;++i){var n=l[i].split("=",2);2==n.length&&(c[n[0]]=decodeURIComponent(n[1].replace(/\+/g," ")))}}return a=f.extend(!0,{},e.params,o.opts[t],c),p="function"===f.type(e.url)?e.url.call(this,s,a,o):v(e.url,s,a),r="function"===f.type(e.thumb)?e.thumb.call(this,s,a,o):v(e.thumb,s),"vimeo"===g&&(p=p.replace("&%23","#")),!1}}),d?(o.src=p,o.type=d,o.subtype=u,o.opts.thumb||o.opts.$thumb&&o.opts.$thumb.length||(o.opts.thumb=r),"iframe"===d&&(f.extend(!0,o.opts,{iframe:{preload:!1,provider:g,attr:{scrolling:"no"}}}),o.contentProvider=g,o.opts.slideClass+=" envirabox-slide--"+("gmap_place"==g||"gmap_search"==g?"map":"video"))):o.type="image")})})}(window.jQuery)},75:()=>{!function(r,s){"use strict";function i(t){this.instance=t,this.init()}s.extend(i.prototype,{timer:null,isActive:!1,$button:null,speed:3e3,init:function(){var e=this;e.$button=s("[data-envirabox-play]").on("click",function(t){t.preventDefault(),e.toggle()}),(e.instance.group.length<2||!e.instance.group[e.instance.currIndex].opts.slideShow)&&e.$button.hide()},set:function(){var t=this;t.instance&&t.instance.current&&(t.instance.current.opts.loop||t.instance.currIndex<t.instance.group.length-1)?t.timer=setTimeout(function(){1==t.isActive&&t.instance.next()},t.instance.current.opts.slideShow.speed||t.speed):(t.stop(),t.instance.idleSecondsCounter=0,t.instance.showControls())},clear:function(){clearTimeout(this.timer),this.timer=null},start:function(){var t=this,e=t.instance.current;t.instance&&e&&(e.opts.loop||e.index<t.instance.group.length-1)&&(t.isActive=!0,t.$button.attr("title",e.opts.i18n[e.opts.lang].PLAY_STOP).addClass("envirabox-button--pause"),t.$button.parent().addClass("envirabox-button--pause"),e.isComplete&&t.set())},stop:function(){var t=this,e=t.instance.current;t.clear(),t.$button.attr("title",e.opts.i18n[e.opts.lang].PLAY_START).removeClass("envirabox-button--pause"),t.$button.parent().removeClass("envirabox-button--pause"),t.isActive=!1},toggle:function(){this.isActive?this.stop():this.start()}}),s(r).on({"onInit.eb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new i(e))},"beforeShow.eb":function(t,e,i,n){e=e&&e.SlideShow;n?e&&i.opts.slideShow.autoStart&&e.start():e&&e.isActive&&e.clear()},"afterShow.eb":function(t,e,i){e=e&&e.SlideShow;e&&e.isActive&&e.set()},"afterKeydown.eb":function(t,e,i,n,o){e=e&&e.SlideShow;!e||!i.opts.slideShow||80!==o&&32!==o||s(r.activeElement).is("button,a,input")||(n.preventDefault(),e.toggle())},"beforeClose.eb onDeactivate.eb":function(t,e){e=e&&e.SlideShow;e&&e.stop()}}),s(r).on("visibilitychange",function(){var t=s.envirabox.getInstance(),t=t&&t.SlideShow;t&&t.isActive&&(r.hidden?t.clear():t.set())})}(document,window.jQuery)},655:()=>{!function(t,s){"use strict";function i(t){this.instance=t,this.init()}s.extend(i.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,objects:null,init:function(){var e=this,i=!1,t=e.instance.group[0],n=e.instance.group[1];e.$button=e.instance.$refs.toolbar.find("[data-envirabox-thumbs]"),1<e.instance.group.length&&e.instance.group[e.instance.currIndex].opts.thumbs&&("image"==t.type||t.opts.thumb||t.opts.$thumb)&&("image"==n.type||n.opts.thumb||n.opts.$thumb)?(e.$button.on("touchstart click",function(t){t.stopImmediatePropagation(),"touchend"==t.type?(i=!0,e.toggle()):"click"!=t.type||i?i=!1:e.toggle()}),e.isActive=!0):(e.$button.hide(),e.isActive=!1)},create:function(){var n,o,t=this.instance,e=t.opts.thumbs,i=(this.$grid=s('<div class="envirabox-thumbs envirabox-thumbs-'+e.position+'"></div>').appendTo(t.$refs.container),"classical_dark"===t.opts.lightbox_theme||"classical_light"===t.opts.lightbox_theme?52:50),i="auto"===e.rowHeight?i:e.rowHeight,r=!1===i?"<ul>":'<ul style="height:'+i+'px">';s.each(t.group,function(t,e){var i;n=e.opts.thumb||(e.opts.$thumb?e.opts.$thumb.attr("src"):null),o=e.opts.videoPlayIcon||!1,(n=n||"image"!==e.type?n:e.src)&&n.length&&(i=void 0!==e.contentProvider?e.contentProvider:"none",r+='<li data-index="'+t+'"  tabindex="0" class="envirabox-thumbs-loading envirabox-thumb-content-provider-'+i+" envirabox-thumb-type-"+e.type+'"><img class="envirabox-thumb-image-'+e.type+" envirabox-thumb-content-provider-"+i+'" data-src="'+n+'" />',!o||"video"!=e.type&&"genericDiv"!=e.type&&"youtube"!=i&&"vimeo"!=i&&"instagram"!=i&&"twitch"!=i&&"dailymotion"!=i&&"metacafe"!=i&&"wistia"!=i&&"videopress"!=i||(r+='<div class="envira-video-play-icon">Play</div>'),r+="</li>")}),r+="</ul>",this.$list=s(r).appendTo(this.$grid).on("click touchstart","li",function(){t.jumpTo(s(this).data("index"))}),this.$list.find("img").one("load",function(){s(this).parent().removeClass("envirabox-thumbs-loading");var t=s(this).outerWidth(),e=s(this).outerHeight(),i=this.naturalWidth||this.width,n=this.naturalHeight||this.height,o=i/t,r=n/e;1<=o&&1<=r&&(r<o?(i/=r,n=e):(i=t,n/=o)),s(this).css({width:"auto",height:Math.floor(n),"margin-top":Math.min(0,Math.floor(.3*e-.3*n)),"margin-left":Math.min(0,Math.floor(.5*t-.5*i))}).show()}).each(function(){this.src=s(this).data("src")})},focus:function(){this.instance.current&&this.$list.children().removeClass("envirabox-thumbs-active").filter('[data-index="'+this.instance.current.index+'"]').addClass("envirabox-thumbs-active").focus()},close:function(){this.$grid.hide()},update:function(){this.instance.$refs.container.toggleClass("envirabox-show-thumbs",this.isVisible),this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus()):this.$grid&&this.instance.trigger("onThumbsHide"),this.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),s(t).on({"onInit.eb":function(t,e){e&&!e.Thumbs&&(e.Thumbs=new i(e))},"beforeShow.eb":function(t,e,i,n){e=e&&e.Thumbs;if(e&&e.isActive){if(i.modal)return e.$button.hide(),void e.hide();n&&!0===i.opts.thumbs.autoStart&&e.show(),e.isVisible&&e.focus()}},"afterKeydown.eb":function(t,e,i,n,o){e=e&&e.Thumbs;e&&e.isActive&&71===o&&(n.preventDefault(),e.toggle())},"beforeClose.eb":function(t,e){var i=e&&e.Thumbs;i&&i.isVisible&&!1!==e.opts.thumbs.hideOnClose&&i.close()}})}(document,window.jQuery)},746:(t,e,i)=>{i=i(311);!function(t,e){"use strict";var o=(new Date).getTime();e(t).on({"onInit.eb":function(t,n,e){n.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(t){var e=n.current,i=(new Date).getTime();n.group.length<1||!1===e.opts.wheel||"auto"===e.opts.wheel&&"image"!==e.type||(t.preventDefault(),t.stopPropagation(),e.$slide.hasClass("envirabox-animated")||(t=t.originalEvent||t,i-o<250||(o=i,n[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?"next":"previous"]())))})}})}(document,window.jQuery||i)},962:(t,e,i)=>{i=i(311);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(g,o,f,v){"use strict";var r,s,a,l,c,h,d,u,t;function p(t){return t=t.replace("&£","&#"),t=(t=f("<textarea/>").html(t).text()).replace("&£","&#")}function i(t){var e=t.currentTarget,i=t.data?t.data.options:{},n=i.selector?f(i.selector):t.data?t.data.items:[],o=f(e).attr("data-envirabox")||"",r=0,s=f.envirabox.getInstance();t.preventDefault(),s&&s.current.opts.$orig.is(e)||(o?(r=(n=n.length?n.filter('[data-envirabox="'+o+'"]'):f('[data-envirabox="'+o+'"]')).index(e))<0&&(r=0):n=[e],f.envirabox.open(n,i,r))}g.console=g.console||{info:function(t){}},f&&(f.fn.envirabox?console.info("EnviraBox already initialized"):(r={loop:!1,margin:[44,0],gutter:50,keyboard:!0,arrows:!0,infobar:!1,toolbar:!0,buttons:["slideShow","fullScreen","thumbs","close","thumbs","close"],idleTime:3,smallBtn:!0,protect:!1,modal:!1,image:{preload:"auto"},ajax:{settings:{data:{envirabox:!0}}},iframe:{tpl:'<iframe id="envirabox-frame{rnd}" name="envirabox-frame{rnd}" class="envirabox-iframe {additionalClasses}" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},genericDiv:{tpl:'<div id="envirabox-generic-div{rnd}" name="envirabox-generic-div{rnd}" class="fb-video"></div>',preload:!0,provider:"facebook",css:{},attr:{scrolling:"auto"}},animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"enviraboxSlide",baseClass:"enviraboxLayout",baseTpl:'<div class="envirabox-container" role="dialog"><div class="envirabox-bg"></div><div class="envirabox-inner"><div class="envirabox-infobar"><button data-envirabox-prev title="{{PREV}}" class="envirabox-button envirabox-button--left"></button><div class="envirabox-infobar__body"><span data-envirabox-index></span>&nbsp;/&nbsp;<span data-envirabox-count></span></div><button data-envirabox-next title="{{NEXT}}" class="envirabox-button envirabox-button--right"></button></div><div class="envirabox-toolbar">{{BUTTONS}}</div><div class="envirabox-navigation"><button data-envirabox-prev title="{{PREV}}" class="envirabox-arrow envirabox-arrow--left" /><button data-envirabox-next title="{{NEXT}}" class="envirabox-arrow envirabox-arrow--right" /></div><div class="envirabox-stage"></div><div class="envirabox-caption-wrap"><div class="envirabox-title"></div><div class="envirabox-caption"></div></div></div></div>',spinnerTpl:'<div class="envirabox-loading"></div>',errorTpl:'<div class="envirabox-error"><p>{{ERROR}}<p></div>',btnTpl:{slideShow:'<button data-envirabox-play class="envirabox-button envirabox-button--play" title="{{PLAY_START}}"></button>',fullScreen:'<button data-envirabox-fullscreen class="envirabox-button envirabox-button--fullscreen" title="{{FULL_SCREEN}}"></button>',thumbs:'<button data-envirabox-thumbs class="envirabox-button envirabox-button--thumbs" title="{{THUMBS}}"></button>',close:'<button data-envirabox-close class="envirabox-button envirabox-button--close" title="{{CLOSE}}"></button>',download:"",exif:"",smallBtn:'<button data-envirabox-close class="envirabox-close-small" title="{{CLOSE}}"></button>',arrowLeft:"",arrowRight:""},parentEl:"body",autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".envirabox-container",axis:"y",rowHeight:50},wheel:"auto",onInit:f.noop,beforeLoad:f.noop,afterLoad:f.noop,beforeShow:f.noop,afterShow:f.noop,beforeClose:f.noop,afterClose:f.noop,onActivate:f.noop,onDeactivate:f.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zurück",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder"}}},s=f(g),a=f(o),l=0,c=g.requestAnimationFrame||g.webkitRequestAnimationFrame||g.mozRequestAnimationFrame||g.oRequestAnimationFrame||function(t){return g.setTimeout(t,1e3/60)},h=function(){var t,e=o.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(e.style[t]!==v)return i[t];return"transitionend"}(),d=function(t){return t&&t.length&&t[0].offsetHeight},u=function(t,e,i){var n=this;n.opts=f.extend(!0,{index:i},r,e||{}),e&&f.isArray(e.buttons)&&(n.opts.buttons=e.buttons),n.id=n.opts.id||++l,n.group=[],n.currIndex=parseInt(n.opts.index,10)||0,n.prevIndex=null,n.prevPos=null,n.currPos=0,n.firstRun=null,n.createGroup(t),n.group.length&&(n.$lastFocus=f(o.activeElement).blur(),n.slides={},n.init(t))},f.urlParam=function(t){t=new RegExp("[?&]"+t+"=([^&#]*)").exec(g.location.href);return null==t?null:decodeURI(t[1])||0},f.extend(u.prototype,{init:function(){var e,i,n=this,t=(f.urlParam("envira_page")&&f.urlParam("envira_page"),n.$lastFocus[0]),o=(n.group[n.currIndex]!==v&&n.group[n.currIndex].opts!==v||(n.currIndex=f("div#envira-gallery-wrap-"+t.dataset.envirabox+" div#envira-gallery-item-"+t.dataset.enviraItemId).index()),n.group[n.currIndex]!==v&&n.group[n.currIndex].opts!==v&&n.group[n.currIndex].opts);!1===o&&(t=n.opts.galleryID,n.opts.perPage,f("a.envira-gallery-"+t).length,o=n.group[n.id-1].opts,n.currIndex=n.id-1),!1!==o&&o.baseTpl!==v&&(n.scrollTop=a.scrollTop(),n.scrollLeft=a.scrollLeft(),f.envirabox.getInstance()||f.envirabox.isMobile||"hidden"===f("body").css("overflow")||(t=f("body").width(),f("html").addClass("envirabox-enabled"),1<(t=f("body").width()-t)&&f("head").append('<style id="envirabox-style-noscroll" type="text/css">.compensate-for-scrollbar, .envirabox-enabled body { margin-right: '+t+"px; }</style>")),i="",f.each(o.buttons,function(t,e){i+=o.btnTpl[e]||""}),e=f(n.translate(n,o.baseTpl.replace("{{BUTTONS}}",i))).addClass("envirabox-is-hidden").attr("id","envirabox-container-"+n.id).addClass(o.baseClass).data("EnviraBox",n).prependTo(o.parentEl),n.$refs={container:e},["bg","inner","infobar","toolbar","stage","caption","title"].forEach(function(t){n.$refs[t]=e.find(".envirabox-"+t)}),(!o.arrows||n.group.length<2)&&e.find(".envirabox-navigation").remove(),o.infobar||n.$refs.infobar.remove(),o.toolbar||n.$refs.toolbar.remove(),n.trigger("onInit"),n.activate(),n.jumpTo(n.currIndex))},translate:function(t,e){var i=t.opts.i18n[t.opts.lang];return e.replace(/\{\{(\w+)\}\}/g,function(t,e){e=i[e];return e===v?t:e})},createGroup:function(t){var c=this,t=f.makeArray(t);f.each(t,function(t,e){var i,n,o,r={},s={},a=[];if(f.isPlainObject(e))s=(r=e).opts||e;else if("object"===f.type(e)&&f(e).length){for(var l in i=f(e),a=i.data(),s="options"in a?a.options:{},s="object"===f.type(s)?s:{},r.src="src"in a?a.src:s.src||i.attr("href"),a)a.hasOwnProperty(l)&&(r[l]=a[l]);["width","height","thumb","type","filter"].forEach(function(t){t in a&&(s[t]=a[t])}),"srcset"in a&&(s.image={srcset:a.srcset}),s.$orig=i,r.type||r.src||(r.type="inline",r.src=e)}else r={type:"html",src:e+""};r.opts=f.extend(!0,{},c.opts,s),f.envirabox.isMobile&&(r.opts=f.extend(!0,{},r.opts,r.opts.mobile)),i=r.type||r.opts.type,n=r.src||"",!i&&n&&(n.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?i="image":n.match(/\.(pdf)((\?|#).*)?$/i)?i="pdf":(o=n.match(/\.(mp4|mov|ogv)((\?|#).*)?$/i))?(i="video",r.opts.videoFormat||(r.opts.videoFormat="video/"+("ogv"===o[1]?"ogg":o[1]))):"#"===n.charAt(0)&&(i="inline")),r.type=i,r.index=c.group.length,"function"===f.type(r.opts.caption)?r.opts.caption=r.opts.caption.apply(e,[c,r]):"caption"in a?r.opts.caption=a.caption:"object"===m(r.opts)&&"string"==typeof r.opts.caption&&null!==r.opts.caption&&0<Object.keys(r.opts).length?r.opts.caption=p(r.opts.caption):r.opts.caption="",r.opts.$orig&&!r.opts.$orig.length&&delete r.opts.$orig,!r.opts.$thumb&&r.opts.$orig&&(r.opts.$thumb=r.opts.$orig.find("img:first")),r.opts.$thumb&&!r.opts.$thumb.length&&delete r.opts.$thumb,"function"===f.type(r.opts.caption)?r.opts.caption=r.opts.caption.apply(e,[c,r]):"caption"in a?r.opts.caption=a.caption:"object"===m(r.opts)&&"string"==typeof r.opts.caption&&null!==r.opts.caption&&0<Object.keys(r.opts).length?r.opts.caption=r.opts.caption:r.opts.caption="",r.opts.caption=r.opts.caption===v?"":r.opts.caption+"",null==r.opts.caption&&(r.opts.caption=""),r.opts.caption=p(r.opts.caption),"function"===f.type(r.opts.title)?r.opts.title=r.opts.title.apply(e,[c,r]):"title"in a?r.opts.title=a.title:"object"===m(r.opts)&&"string"==typeof r.opts.title&&null!==r.opts.title&&0<Object.keys(r.opts).length?r.opts.title=r.opts.title:r.opts.title="",r.opts.title=r.opts.title===v?"":r.opts.title+"",null==r.opts.title&&(r.opts.title=""),r.opts.title=p(r.opts.title),"ajax"===i&&1<(o=n.split(/\s+/,2)).length&&(r.src=o.shift(),r.opts.filter=o.shift()),r.opts.smallBtn!==v&&1==r.opts.smallBtn&&(r.opts.toolbar=!1,r.opts.smallBtn=!0),"pdf"===i&&(r.type="iframe",r.opts.iframe.preload=!1),r.opts.modal&&(r.opts=f.extend(!0,r.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),c.group.push(r)})},addEvents:function(){var n=this;n.removeEvents(),n.$refs.container.on("click.eb-close","[data-envirabox-close]",function(t){t.stopPropagation(),t.preventDefault(),n.close(t)}).on("click.eb-prev touchend.eb-prev","[data-envirabox-prev]",function(t){t.stopPropagation(),t.preventDefault(),n.previous()}).on("click.eb-next touchend.eb-next","[data-envirabox-next]",function(t){t.stopPropagation(),t.preventDefault(),n.next()}),s.on("orientationchange.eb resize.eb",function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?c(function(){n.update()}):(n.$refs.stage.hide(),setTimeout(function(){n.$refs.stage.show(),n.update()},500))}),a.on("focusin.eb",function(t){var e=f.envirabox?f.envirabox.getInstance():null;e.isClosing||!e.current||!e.current.opts.trapFocus||f(t.target).hasClass("envirabox-container")||f(t.target).is(o)||e&&"fixed"!==f(t.target).css("position")&&!e.$refs.container.has(t.target).length&&(t.stopPropagation(),e.focus(),s.scrollTop(n.scrollTop).scrollLeft(n.scrollLeft))}),a.on("keydown.eb",function(t){var e=n.current,i=t.keyCode||t.which;if(e&&e.opts.keyboard&&!f(t.target).is("input")&&!f(t.target).is("textarea"))return 9===i?t.shiftKey?void n.jumpTo(n.currIndex-1,1):void n.jumpTo(n.currIndex+1,1):8===i||27===i?(t.preventDefault(),void n.close(t)):37===i||38===i?(t.preventDefault(),void n.previous()):39===i||40===i?(t.preventDefault(),void n.next()):void n.trigger("afterKeydown",t,i)}),n.group[n.currIndex].opts.idleTime&&(n.idleSecondsCounter=0,a.on("mousemove.eb-idle mouseenter.eb-idle mouseleave.eb-idle mousedown.eb-idle touchstart.eb-idle touchmove.eb-idle scroll.eb-idle keydown.eb-idle",function(){n.idleSecondsCounter=0,n.isIdle&&n.showControls(),n.isIdle=!1}),n.idleInterval=g.setInterval(function(){n.idleSecondsCounter++,n.idleSecondsCounter>=n.group[n.currIndex].opts.idleTime&&(n.isIdle=!0,n.idleSecondsCounter=0,n.hideControls())},1e3))},removeEvents:function(){s.off("orientationchange.eb resize.eb"),a.off("focusin.eb keydown.eb .eb-idle"),this.$refs.container.off(".eb-close .eb-prev .eb-next"),this.idleInterval&&(g.clearInterval(this.idleInterval),this.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,n,e){var i,o,r,s,a,l,c=this,h=c.group.length;if(!(c.isSliding||c.isClosing||c.isAnimating&&c.firstRun)){if(t=parseInt(t,10),!(a=(c.current||c).opts.loop)&&(t<0||h<=t))return!1;if(i=c.firstRun=null===c.firstRun,!(h<2&&!i&&c.isSliding)){if(r=c.current,c.prevIndex=c.currIndex,c.prevPos=c.currPos,o=c.createSlide(t),1<h&&((a||0<o.index)&&c.createSlide(t-1),(a||o.index<h-1)&&c.createSlide(t+1)),c.current=o,c.currIndex=o.index,c.currPos=o.pos,c.trigger("beforeShow",i),c.updateControls(),a=f.envirabox.getTranslate(o.$slide),o.isMoved=(0!==a.left||0!==a.top)&&!o.$slide.hasClass("envirabox-animated"),o.forcedDuration=v,f.isNumeric(n)?o.forcedDuration=n:n=o.opts[i?"animationDuration":"transitionDuration"],n=parseInt(n,10),i)return o.opts.animationEffect&&n&&c.$refs.container.css("transition-duration",n+"ms"),c.$refs.container.removeClass("envirabox-is-hidden"),d(c.$refs.container),c.$refs.container.addClass("envirabox-is-open"),o.$slide.addClass("envirabox-slide--current"),c.loadSlide(o),void c.preload();f.each(c.slides,function(t,e){f.envirabox.stop(e.$slide)}),o.$slide.removeClass("envirabox-slide--next envirabox-slide--previous").addClass("envirabox-slide--current"),o.isMoved?(s=Math.round(o.$slide.width()),f.each(c.slides,function(t,e){var i=e.pos-o.pos;f.envirabox.animate(e.$slide,{top:0,left:i*s+i*e.opts.gutter},n,function(){e.$slide.removeAttr("style").removeClass("envirabox-slide--next envirabox-slide--previous"),e.pos===c.currPos&&(o.isMoved=!1,c.complete())})})):c.$refs.stage.children().removeAttr("style"),o.isLoaded?c.revealContent(o):c.loadSlide(o),c.preload(),r.pos!==o.pos&&(l="envirabox-slide--"+(r.pos>o.pos?"next":"previous"),r.$slide.removeClass("envirabox-slide--complete envirabox-slide--current envirabox-slide--next envirabox-slide--previous"),r.isComplete=!1,n&&(o.isMoved||o.opts.transitionEffect)&&(o.isMoved?r.$slide.addClass(l):(l="envirabox-animated "+l+" envirabox-fx-"+o.opts.transitionEffect,f.envirabox.animate(r.$slide,l,n,function(){r.$slide.removeClass(l).removeAttr("style")}))))}}},createSlide:function(t){var e,i=this,n=t%i.group.length;return n=n<0?i.group.length+n:n,!i.slides[t]&&i.group[n]&&(e=f('<div class="envirabox-slide"></div>').appendTo(i.$refs.stage),i.slides[t]=f.extend(!0,{},i.group[n],{pos:t,$slide:e,isLoaded:!1}),i.updateSlide(i.slides[t])),i.slides[t]},scaleToActual:function(t,e,i){var n,o,r,s,a=this,l=a.current,c=l.$content,h=parseInt(l.$slide.width(),10),d=parseInt(l.$slide.height(),10),u=l.width,p=l.height;"image"!=l.type||l.hasError||!c||a.isAnimating||(f.envirabox.stop(c),a.isAnimating=!0,t=t===v?.5*h:t,e=e===v?.5*d:e,r=u/(l=f.envirabox.getTranslate(c)).width,s=p/l.height,n=.5*h-.5*u,o=.5*d-.5*p,h<u&&(n=0<(n=l.left*r-(t*r-t))?0:n)<h-u&&(n=h-u),d<p&&(o=0<(o=l.top*s-(e*s-e))?0:o)<d-p&&(o=d-p),a.updateCursor(u,p),f.envirabox.animate(c,{top:o,left:n,scaleX:r,scaleY:s},i||330,function(){a.isAnimating=!1}),a.SlideShow&&a.SlideShow.isActive&&a.SlideShow.stop())},scaleToFit:function(t){var e=this,i=e.current,n=i.$content;"image"!=i.type||i.hasError||!n||e.isAnimating||(f.envirabox.stop(n),e.isAnimating=!0,i=e.getFitPos(i),e.updateCursor(i.width,i.height),f.envirabox.animate(n,{top:i.top,left:i.left,scaleX:i.width/n.width(),scaleY:i.height/n.height()},t||330,function(){e.isAnimating=!1}))},getFitPos:function(t){var e,i,n=t.$content,o=t.width,r=t.height,t=((/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)&&matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2), (min-resolution: 192dpi)").matches||2===g.devicePixelRatio)&&(o*=2,r*=2),t.opts.margin);return!(!n||!n.length||!o&&!r)&&(2===(t="number"===f.type(t)?[t,t]:t).length&&(t=[t[0],t[1],t[0],t[1]]),s.width()<800&&(t=[0,30,0,30]),n=Math.abs(parseInt(this.$refs.stage.width(),10)-(t[1]+t[3])),e=Math.abs(parseInt(this.$refs.stage.height(),10)-(t[0]+t[2])),i=Math.min(1,n/o,e/r),o=Math.floor(i*o),i=Math.floor(i*r),{top:Math.floor(.5*(e-i))+t[0],left:Math.floor(.5*(n-o))+t[3],width:o,height:i})},update:function(){var i=this;f.each(i.slides,function(t,e){i.updateSlide(e)})},updateSlide:function(t){var e=t.$content;e&&(t.width||t.height)&&(f.envirabox.stop(e),f.envirabox.setTranslate(e,this.getFitPos(t)),t.pos===this.currPos&&this.updateCursor()),t.$slide.trigger("refresh"),this.trigger("onUpdate",t)},updateCursor:function(t,e){var i=this,n=i.$refs.container.removeClass("envirabox-is-zoomable envirabox-can-zoomIn envirabox-can-drag envirabox-can-zoomOut");i.current&&!i.isClosing&&(i.isZoomable()?(n.addClass("envirabox-is-zoomable"),(t!==v&&e!==v?t<i.current.width&&e<i.current.height:i.isScaledDown())?n.addClass("envirabox-can-zoomIn"):i.current.opts.touch?n.addClass("envirabox-can-drag"):n.addClass("envirabox-can-zoomOut")):i.current.opts.touch&&n.addClass("envirabox-can-drag"))},isZoomable:function(){var t,e=this.current;if(e&&!this.isClosing)return!!("image"===e.type&&e.isLoaded&&!e.hasError&&("zoom"===e.opts.clickContent||f.isFunction(e.opts.clickContent)&&"zoom"===e.opts.clickContent(e))&&(t=this.getFitPos(e),e.width>t.width||e.height>t.height))},isScaledDown:function(){var t=this.current,e=t.$content,i=!1;return i=e?(i=f.envirabox.getTranslate(e)).width<t.width||i.height<t.height:i},canPan:function(){var t=this.current,e=t.$content,i=!1;return e&&(i=this.getFitPos(t),i=1<Math.abs(e.width()-i.width)||1<Math.abs(e.height()-i.height)),i},loadSlide:function(i){var t,e,n,o=this;if(!i.isLoading&&!i.isLoaded){switch(i.isLoading=!0,o.trigger("beforeLoad",i),t=i.type,(e=i.$slide).off("refresh").trigger("onReset").addClass("envirabox-slide--"+(t||"unknown")).addClass(i.opts.slideClass),t){case"image":o.setImage(i);break;case"video":o.setVideo(i);break;case"iframe":o.setIframe(i);break;case"genericDiv":o.setGenericDiv(i);break;case"html":o.setContent(i,i.src||i.content);break;case"inline":f(i.src).length?o.setContent(i,f(i.src)):o.setError(i);break;case"ajax":o.showLoading(i),n=f.ajax(f.extend({},i.opts.ajax.settings,{url:i.src,success:function(t,e){"success"===e&&o.setContent(i,t)},error:function(t,e){t&&"abort"!==e&&o.setError(i)}})),e.one("onReset",function(){n.abort()});break;default:o.setError(i)}return!0}},setVideo:function(t){var e,i,n,o,r,s,a,l;this.isClosing||(this.hideLoading(t),t.$slide.empty(),n=e=o="",!(a="controls")!==t.opts.videoPlayPause&&(n+="videos_play_pause "),(i=l=!1)!==t.opts.videoProgressBar&&(n+="videos_progress "),!1!==t.opts.videoPlaybackTime&&(n+="videos_playback_time "),!1!==t.opts.videoVideoLength&&(n+="videos_video_length "),!1!==t.opts.videoVolumeControls&&(n+="videos_volume_controls "),!1!==t.opts.videoControlBar?n+="videos_controls ":(a=t.opts.videoAutoPlay!==v&&!1!==t.opts.videoAutoPlay?"autoplay playinline":"",e+="nodownload nofullscreen noremoteplayback "),!1!==t.opts.videoFullscreen&&(n+="videos_fullscreen "),!1!==t.opts.videoDownload?n+="videos_download ":e+="nodownload ",0<t.videoWidth&&(l="max-width:"+t.videoWidth+"px;"),0<t.videoHeight&&(i="max-height:"+t.videoHeight+"px;"),(l||i)&&(o='style="'+l+i+'"'),0!==t.opts.arrows&&"inside"==t.opts.arrow_position?t.$content=f('<div class="envirabox-content video '+n+'" '+o+'"><div class="envirabox-navigation-inside"><a data-envirabox-prev title="prev" class="envirabox-arrow envirabox-arrow--left envirabox-nav envirabox-prev" href="#"><span></span></a><a data-envirabox-next title="next" class="envirabox-arrow envirabox-arrow--right envirabox-nav envirabox-next" href="#"><span></span></a></div>').appendTo(t.$slide):t.$content=f('<div class="envirabox-content '+n+'" '+o+"></div>").appendTo(t.$slide),!0===t.opts.smallBtn&&t.$content.prepend(this.translate(t,t.opts.btnTpl.smallBtn)),!0===t.opts.insideCap&&(l=t.caption!==v?t.caption:"",i=t.title!==v?t.title:"",n=t.opts.capPosition||"",o=!(!t.opts.capTitleShow||"0"===t.opts.capTitleShow)&&t.opts.capTitleShow,r=t.enviraItemId||"",s="caption"==o&&'<div class="envirabox-caption envirabox-caption-item-id-'+r+'">'+l+"</div>",s="title_caption"==o?'<div class="envirabox-caption envirabox-caption-item-id-'+r+'">'+i+" "+l+"</div>":s,!1!==(s="title"==o?'<div class="envirabox-title envirabox-title-item-id-'+r+'">'+i+"</div>":s)&&s!==v&&0<s.length&&t.$content.prepend('<div class="envirabox-caption-wrap '+n+'">'+s+"</div>")),""!=a&&(a=a+' poster="'+(t.videoPlaceholder||t.thumb)+'" '+(t.videoPlaysInline!==v?t.videoPlaysInline:"playsinline")+' controlsList="'+e+'"'),l=t.src!==v?t.src:t.link,f('<div class="envirabox-video-container"><video class="envirabox-video-player" '+a+'><source src="'+l+'" type="video/mp4">Your broswser doesn\'t support HTML5 video</video></div>').appendTo(t.$content),this.afterLoad(t))},setImage:function(t){var e,i,n,o,r,s,a,l,c,h=this,d=t.opts.image.srcset;if(d){n=g.devicePixelRatio||1,o=g.innerWidth*n,(i=d.split(",").map(function(t){var n={};return t.trim().split(/\s+/).forEach(function(t,e){var i=parseInt(t.substring(0,t.length-1),10);if(0===e)return n.url=t;i&&(n.value=i,n.postfix=t[t.length-1])}),n})).sort(function(t,e){return t.value-e.value});for(var u=0;u<i.length;u++){var p=i[u];if("w"===p.postfix&&p.value>=o||"x"===p.postfix&&p.value>=n){e=p;break}}(e=!e&&i.length?i[i.length-1]:e)&&(t.src=e.url,t.width&&t.height&&"w"==e.postfix&&(t.height=t.width/t.height*e.value,t.width=e.value))}0!==t.opts.arrows&&"inside"==t.opts.arrow_position?t.$content=f('<div class="envirabox-image-wrap"><div class="envirabox-navigation-inside"><a data-envirabox-prev title="prev" class="envirabox-arrow envirabox-arrow--left envirabox-nav envirabox-prev" href="#"><span></span></a><a data-envirabox-next title="next" class="envirabox-arrow envirabox-arrow--right envirabox-nav envirabox-next" href="#"><span></span></a></div>').addClass("envirabox-is-hidden").appendTo(t.$slide):t.$content=f('<div class="envirabox-image-wrap"></div>').addClass("envirabox-is-hidden").appendTo(t.$slide),!0===t.opts.smallBtn&&t.$content.prepend(h.translate(t,t.opts.btnTpl.smallBtn)),!0===t.opts.insideCap&&(d=t.caption!==v?t.caption:"",r=t.title!==v?t.title:"",s=t.opts.capPosition||"",a=!(!t.opts.capTitleShow||"0"===t.opts.capTitleShow||!1===t.opts.capTitleShow||"false"===t.opts.capTitleShow)&&t.opts.capTitleShow,l=t.enviraItemId||"",c="caption"==a&&'<div class="envirabox-caption envirabox-caption-item-id-'+l+'">'+d+"</div>",c="title_caption"==a?'<div class="envirabox-caption envirabox-caption-item-id-'+l+'">'+r+" "+d+"</div>":c,!1!==(c="title"==a?'<div class="envirabox-title envirabox-title-item-id-'+l+'">'+r+"</div>":c)&&c!==v&&0<c.length&&t.$content.prepend('<div class="envirabox-caption-wrap '+s+'">'+c+"</div>")),!1!==t.opts.preload&&t.opts.width&&t.opts.height&&(t.opts.thumb||t.opts.$thumb)?(t.width=t.opts.width,t.height=t.opts.height,t.$ghost=f("<img />").one("error",function(){f(this).remove(),t.$ghost=null,h.setBigImage(t)}).one("load",function(){h.afterLoad(t),h.setBigImage(t)}).addClass("envirabox-image").appendTo(t.$content).attr("src",t.opts.thumb||t.opts.$thumb.attr("src"))):h.setBigImage(t)},setBigImage:function(t){var e=this,i=f("<img />");t.$image=i.one("error",function(){e.setError(t)}).one("load",function(){clearTimeout(t.timouts),t.timouts=null,e.isClosing||(t.width=this.naturalWidth,t.height=this.naturalHeight,t.opts.image.srcset&&i.attr("sizes","100vw").attr("srcset",t.opts.image.srcset),e.hideLoading(t),t.$ghost?t.timouts=setTimeout(function(){t.timouts=null,t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))):e.afterLoad(t))}).addClass("envirabox-image").attr("src",t.src).appendTo(t.$content);matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2), (min-resolution: 192dpi)").matches&&t.enviraRetina!==v&&!1!==t.enviraRetina&&""!==t.enviraRetina?t.$image.attr("srcset",t.src+" 1x, "+t.enviraRetina+" 2x"):t.src!==v&&!1!==t.src&&t.$image.attr("srcset",t.src+" 1x"),(i[0].complete||"complete"==i[0].readyState)&&i[0].naturalWidth&&i[0].naturalHeight?i.trigger("load"):i[0].error?i.trigger("error"):t.timouts=setTimeout(function(){i[0].complete||t.hasError||e.showLoading(t)},100)},frameWidth:null,frameHeight:null,setIframe:function(e){var t,i,n,o,r,s,a=this,l=e.opts.iframe,c=e.$slide;if(0!==e.opts.arrows&&"inside"==e.opts.arrow_position?e.$content=f('<div class="envirabox-content'+(l.preload?" envirabox-is-hidden":" ")+" provider-"+l.provider+'" ><div class="envirabox-navigation-inside"><a data-envirabox-prev title="prev" class="envirabox-arrow envirabox-arrow--left envirabox-nav envirabox-prev" href="#"><span></span></a><a data-envirabox-next title="next" class="envirabox-arrow envirabox-arrow--right envirabox-nav envirabox-next" href="#"><span></span></a></div>').addClass("envirabox-hidden").addClass("envirabox-iframe-hidden").css("width","640px").css("height","360px").appendTo(e.$slide):l.provider!==v?e.$content=f('<div class="envirabox-content'+(l.preload?" envirabox-is-hidden":" ")+" provider-"+l.provider+'" ></div>').addClass("envirabox-hidden").addClass("envirabox-iframe-hidden").css("width","640px").css("height","360px").appendTo(c):e.$content=f('<div class="envirabox-content'+(l.preload?" envirabox-is-hidden":" ")+" provider-"+l.provider+'" ></div>').css("width","90%").css("height","90%").appendTo(c),t=f(l.tpl.replace(/\{rnd\}/g,(new Date).getTime()).replace(/\{additionalClasses\}/g,e.contentProvider)).attr(l.attr).appendTo(e.$content).css("width",!1).css("height",!1),l.preload){a.showLoading(e),t.on("load.eb error.eb",function(t){this.isReady=1,e.$slide.trigger("refresh"),a.afterLoad(e)});var l=!1;try{l=t.contents().find("body")}catch(t){}l&&l.length&&l.children().length&&($content.css({width:"",height:""}),null===a.frameWidth&&(a.frameWidth=Math.ceil(Math.max(l[0].clientWidth,l.outerWidth(!0)))),a.frameWidth&&$content.width(a.frameWidth),null===a.frameHeight&&(a.frameHeight=Math.ceil(Math.max(l[0].clientHeight,l.outerHeight(!0)))),a.frameHeight&&$content.height(a.frameHeight),$content.removeClass("envirabox-hidden"))}else this.afterLoad(e);!0===e.opts.insideCap&&(l=e.caption!==v?e.caption:"",i=e.title!==v?e.title:"",n=e.opts.capPosition||"",o=!(!e.opts.capTitleShow||"0"===e.opts.capTitleShow)&&e.opts.capTitleShow,r=e.enviraItemId||"",s="caption"==o&&'<div class="envirabox-caption envirabox-caption-item-id-'+r+'">'+l+"</div>",s="title_caption"==o?'<div class="envirabox-caption envirabox-caption-item-id-'+r+'">'+i+" "+l+"</div>":s,!1!==(s="title"==o?'<div class="envirabox-title envirabox-title-item-id-'+r+'">'+i+"</div>":s)&&s!==v&&0<s.length&&e.$content.prepend('<div class="envirabox-caption-wrap '+n+'">'+s+"</div>")),t.attr("src",e.src),!0===e.opts.smallBtn&&e.$content.prepend(a.translate(e,e.opts.btnTpl.smallBtn)),c.one("onReset",function(){try{f(this).find("iframe").hide().attr("src","//about:blank")}catch(t){}f(this).empty(),e.isLoaded=!1})},setGenericDiv:function(t){var e,i,n,o=t.opts.genericDiv,r=t.$slide,s="640px",a="360px";0!==t.opts.arrows&&"inside"==t.opts.arrow_position?t.$content=f('<div class="envirabox-content'+(o.preload?" envirabox-is-hidden":" ")+" provider-"+o.provider+'" ><div class="envirabox-navigation-inside"><a data-envirabox-prev title="prev" class="envirabox-arrow envirabox-arrow--left envirabox-nav envirabox-prev" href="#"><span></span></a><a data-envirabox-next title="next" class="envirabox-arrow envirabox-arrow--right envirabox-nav envirabox-next" href="#"><span></span></a></div>').addClass("envirabox-hidden").css("width",s).css("height",a).appendTo(t.$slide):("facebook"==o.provider&&(s=a="auto"),t.$content=f('<div class="envirabox-content'+(o.preload?" envirabox-is-hidden":" ")+" provider-"+o.provider+'" ></div>').addClass("envirabox-hidden").css("width",s).css("height",a).appendTo(r)),f(o.tpl.replace(/\{rnd\}/g,(new Date).getTime()).replace(/\{additionalClasses\}/g,t.contentProvider)).attr(o.attr).attr("data-href",t.src).appendTo(t.$content).css("width",s).css("height",a),this.afterLoad(t),!0===t.opts.insideCap&&(o=t.caption!==v?t.caption:"",s=t.title!==v?t.title:"",a=t.opts.capPosition||"",e=!(!t.opts.capTitleShow||"0"===t.opts.capTitleShow)&&t.opts.capTitleShow,i=t.enviraItemId||"",n="caption"==e&&'<div class="envirabox-caption envirabox-caption-item-id-'+i+'">'+o+"</div>",n="title_caption"==e?'<div class="envirabox-caption envirabox-caption-item-id-'+i+'">'+s+" "+o+"</div>":n,!1!==(n="title"==e?'<div class="envirabox-title envirabox-title-item-id-'+i+'">'+s+"</div>":n)&&n!==v&&0<n.length&&t.$content.prepend('<div class="envirabox-caption-wrap '+a+'">'+n+"</div>")),!0===t.opts.smallBtn&&t.$content.prepend(this.translate(t,t.opts.btnTpl.smallBtn)),r.one("onReset",function(){try{f(this).find("genericDiv").hide().attr("src","//about:blank")}catch(t){}f(this).empty(),t.isLoaded=!1})},setContent:function(t,e){var i;this.isClosing||(this.hideLoading(t),t.$slide.empty(),(i=e)&&i.hasOwnProperty&&i instanceof f&&e.parent().length?(e.parent(".envirabox-slide--inline").trigger("onReset"),t.$placeholder=f("<div></div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===f.type(e)&&3===(e=f("<div>").append(f.trim(e)).contents())[0].nodeType&&(e=f("<div>").html(e)),t.opts.filter&&(e=f("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",function(){t.$placeholder&&(t.$placeholder.after(e.hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(f(this).empty(),t.isLoaded=!1)}),t.$content=f(e).appendTo(t.$slide),t.opts.smallBtn&&!t.$smallBtn&&(t.$smallBtn=f(this.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content.filter("div").first())),this.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.removeClass("envirabox-slide--"+t.type),this.setContent(t,this.translate(t,t.opts.errorTpl))},showLoading:function(t){(t=t||this.current)&&!t.$spinner&&(t.$spinner=f(this.opts.spinnerTpl).appendTo(t.$slide))},hideLoading:function(t){(t=t||this.current)&&t.$spinner&&(t.$spinner.remove(),delete t.$spinner)},afterLoad:function(t){this.isClosing||(t.isLoading=!1,t.isLoaded=!0,this.trigger("afterLoad",t),this.hideLoading(t),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.eb",function(t){return 2==t.button&&t.preventDefault(),!0}),"image"===t.type&&f('<div class="envirabox-spaceball"></div>').appendTo(t.$content)),this.revealContent(t))},revealContent:function(e){var i,t,n,o=this,r=e.$slide,s=!1,a=e.opts[o.firstRun?"animationEffect":"transitionEffect"],l=e.opts[o.firstRun?"animationDuration":"transitionDuration"];return l=parseInt(e.forcedDuration===v?l:e.forcedDuration,10),"zoom"===(a="zoom"!==(a=!e.isMoved&&e.pos===o.currPos&&l?a:!1)||e.pos===o.currPos&&l&&"image"===e.type&&!e.hasError&&(s=o.getThumbPos(e))?a:"fade")?((n=o.getFitPos(e)).scaleX=n.width/s.width,n.scaleY=n.height/s.height,delete n.width,delete n.height,(t="auto"==(t=e.opts.zoomOpacity)?.1<Math.abs(e.width/e.height-s.width/s.height):t)&&(s.opacity=.1,n.opacity=1),f.envirabox.setTranslate(e.$content.removeClass("envirabox-is-hidden"),s),d(e.$content),void f.envirabox.animate(e.$content,n,l,function(){o.complete()})):(o.updateSlide(e),a?(f.envirabox.stop(r),i="envirabox-animated envirabox-slide--"+(e.pos>o.prevPos?"next":"previous")+" envirabox-fx-"+a,r.removeAttr("style").removeClass("envirabox-slide--current envirabox-slide--next envirabox-slide--previous").addClass(i),e.$content.removeClass("envirabox-is-hidden"),d(r),void f.envirabox.animate(r,"envirabox-slide--current",l,function(t){r.removeClass(i).removeAttr("style"),e.pos===o.currPos&&o.complete()},!0)):(d(r),e.$content.removeClass("envirabox-is-hidden"),void(e.pos===o.currPos&&o.complete())))},getThumbPos:function(t){var e,i=!1,t=t.opts.$thumb,n=t?t.offset():0;return n&&t[0].ownerDocument===o&&function(t){for(var e=t[0],i=e.getBoundingClientRect(),n=[];null!==e.parentElement;)"hidden"!==f(e.parentElement).css("overflow")&&"auto"!==f(e.parentElement).css("overflow")||n.push(e.parentElement.getBoundingClientRect()),e=e.parentElement;return n.every(function(t){var e=Math.min(i.right,t.right)-Math.max(i.left,t.left),t=Math.min(i.bottom,t.bottom)-Math.max(i.top,t.top);return 0<e&&0<t})&&0<i.bottom&&0<i.right&&i.left<f(g).width()&&i.top<f(g).height()}(t)&&(e=this.$refs.stage.offset(),i={top:n.top-e.top+parseFloat(t.css("border-top-width")||0),left:n.left-e.left+parseFloat(t.css("border-left-width")||0),width:t.width(),height:t.height(),scaleX:1,scaleY:1}),i},complete:function(){var i=this,t=i.current,n={};t.isMoved||!t.isLoaded||t.isComplete||(t.isComplete=!0,t.$slide.siblings().trigger("onReset"),d(t.$slide),t.$slide.addClass("envirabox-slide--complete"),f.each(i.slides,function(t,e){e.pos>=i.currPos-1&&e.pos<=i.currPos+1?n[e.pos]=e:e&&(f.envirabox.stop(e.$slide),e.$slide.off().remove())}),i.slides=n,i.updateCursor(),i.trigger("afterShow"),(f(o.activeElement).is("[disabled]")||t.opts.autoFocus&&"image"!=t.type&&"iframe"!==t.type)&&i.focus())},preload:function(){var t,e,i=this;i.group.length<2||(t=i.slides[i.currPos+1],e=i.slides[i.currPos-1],t&&"image"===t.type&&i.loadSlide(t),e&&"image"===e.type&&i.loadSlide(e))},focus:function(){var t,e=this.current;this.isClosing||(e&&e.isComplete&&((t=e.$slide.find("input[autofocus]:enabled:visible:first")).length||(t=e.$slide.find("button,:input,[tabindex],a").filter(":enabled:visible:first"))),(t=t&&t.length?t:this.$refs.container).focus())},activate:function(){var e=this;f(".envirabox-container").each(function(){var t=f(this).data("envirabox");t&&t.uid!==e.uid&&!t.isClosing&&t.trigger("onDeactivate")}),e.current&&(0<e.$refs.container.index()&&e.$refs.container.prependTo(o.body),e.updateControls()),e.trigger("onActivate"),e.addEvents()},close:function(t,e){function i(){a.cleanUp(t)}var n,o,r,s,a=this,l=a.current;return!a.isClosing&&(!(a.isClosing=!0)===a.trigger("beforeClose",t)?(a.isClosing=!1,c(function(){a.update()}),!1):(a.removeEvents(),l.timouts&&clearTimeout(l.timouts),r=l.$content,n=l.opts.animationEffect,e=f.isNumeric(e)?e:n?l.opts.animationDuration:0,l.$slide.off(h).removeClass("envirabox-slide--complete envirabox-slide--next envirabox-slide--previous envirabox-animated"),l.$slide.siblings().trigger("onReset").remove(),e&&a.$refs.container.removeClass("envirabox-is-open").addClass("envirabox-is-closing"),a.hideLoading(l),a.hideControls(),a.updateCursor(),"zoom"===(n="zoom"!==n||!0!==t&&r&&e&&"image"===l.type&&!l.hasError&&(s=a.getThumbPos(l))?n:"fade")?(f.envirabox.stop(r),(r=f.envirabox.getTranslate(r)).width=r.width*r.scaleX,r.height=r.height*r.scaleY,(o="auto"==(o=l.opts.zoomOpacity)?.1<Math.abs(l.width/l.height-s.width/s.height):o)&&(s.opacity=0),r.scaleX=r.width/s.width,r.scaleY=r.height/s.height,r.width=s.width,r.height=s.height,f.envirabox.setTranslate(l.$content,r),f.envirabox.animate(l.$content,s,e,i)):n&&e?!0===t?setTimeout(i,e):f.envirabox.animate(l.$slide.removeClass("envirabox-slide--current"),"envirabox-animated envirabox-slide--previous envirabox-fx-"+n,e,i):i(),!0))},cleanUp:function(t){var e=this;e.current.$slide.trigger("onReset"),e.$refs.container.empty().remove(),e.trigger("afterClose",t),e.$lastFocus&&e.current.opts.backFocus&&e.$lastFocus.focus(),e.current=null,(t=f.envirabox.getInstance())?t.activate():(s.scrollTop(e.scrollTop).scrollLeft(e.scrollLeft),f("html").removeClass("envirabox-enabled"),f("#envirabox-style-noscroll").remove())},trigger:function(t,e){var i,n=Array.prototype.slice.call(arguments,1),e=e&&e.opts?e:this.current;if(e?n.unshift(e):e=this,n.unshift(this),!1===(i=f.isFunction(e.opts[t])?e.opts[t].apply(e,n):i))return i;("afterClose"===t?a:this.$refs.container).trigger(t+".eb",n)},updateControls:function(t){var e=this,i=e.current,n=i.index,o=i.opts,r=o.caption,s=o.title,a=e.$refs.caption,l=e.$refs.title;i.$slide.trigger("refresh"),e.$caption=r&&r.length?a.html(r):null,e.$title=s&&s.length?l.html(s):null,e.isHiddenControls||e.showControls(),f("[data-envirabox-count]").html(e.group.length),f("[data-envirabox-index]").html(n+1),f("[data-envirabox-prev]").prop("disabled",!o.loop&&n<=0),f("[data-envirabox-next]").prop("disabled",!o.loop&&n>=e.group.length-1)},hideControls:function(){this.isHiddenControls=!0,this.$refs.container.removeClass("envirabox-show-infobar envirabox-show-toolbar envirabox-show-caption envirabox-show-title envirabox-show-nav envirabox-show-exif"),this.$refs.container.addClass("envirabox-hide-exif")},showControls:function(){var t=this,e=(t.current||t).opts,i=t.$refs.container;t.isHiddenControls=!1,t.idleSecondsCounter=0,i.toggleClass("envirabox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("envirabox-show-infobar",!!(e.infobar&&1<t.group.length)).toggleClass("envirabox-show-nav",!!(e.arrows&&1<t.group.length)).toggleClass("envirabox-is-modal",!!e.modal),t.$caption?i.addClass("envirabox-show-caption "):i.removeClass("envirabox-show-caption"),t.$title?i.addClass("envirabox-show-title "):i.removeClass("envirabox-show-title"),i.addClass("envirabox-show-exif"),i.removeClass("envirabox-hide-exif")},toggleControls:function(){this.isHiddenControls?this.showControls():this.hideControls()}}),f.envirabox={version:"{envirabox-version}",defaults:r,getInstance:function(t){var e=f('.envirabox-container:not(".envirabox-is-closing"):first').data("envirabox"),i=Array.prototype.slice.call(arguments,1);return e instanceof u&&("string"===f.type(t)?e[t].apply(e,i):"function"===f.type(t)&&t.apply(e,i),e)},open:function(t,e,i){var n=this.getInstance();if(!n)return new u(t,e,i)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close())},destroy:function(){this.close(!0),a.off("click.eb-start")},isMobile:o.createTouch!==v&&/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),use3d:(t=o.createElement("div"),g.getComputedStyle&&g.getComputedStyle(t).getPropertyValue("transform")&&!(o.documentMode&&o.documentMode<11)),getTranslate:function(t){var e,i;return!(!t||!t.length)&&((e=(e=t.eq(0).css("transform"))&&-1!==e.indexOf("matrix")?(e=(e=e.split("(")[1]).split(")")[0]).split(","):[]).length?e=(e=10<e.length?[e[13],e[12],e[0],e[5]]:[e[5],e[4],e[0],e[3]]).map(parseFloat):(e=[0,0,1,1],(i=/\.*translate\((.*)px,(.*)px\)/i.exec(t.eq(0).attr("style")))&&(e[0]=parseFloat(i[2]),e[1]=parseFloat(i[1]))),{top:e[0],left:e[1],scaleX:e[2],scaleY:e[3],opacity:parseFloat(t.css("opacity")),width:t.width(),height:t.height()})},setTranslate:function(t,e){var i="",n={};if(t&&e)return e.left===v&&e.top===v||(i=(e.left===v?t.position():e).left+"px, "+(e.top===v?t.position():e).top+"px",i=this.use3d?"translate3d("+i+", 0px)":"translate("+i+")"),(i=e.scaleX!==v&&e.scaleY!==v?(i.length?i+" ":"")+"scale("+e.scaleX+", "+e.scaleY+")":i).length&&(n.transform=i),e.opacity!==v&&(n.opacity=e.opacity),e.width!==v&&(n.width=e.width),e.height!==v&&(n.height=e.height),t.css(n)},animate:function(e,i,t,n,o){var r=h||"transitionend";f.isFunction(t)&&(n=t,t=null),f.isPlainObject(i)||e.removeAttr("style"),e.on(r,function(t){t&&t.originalEvent&&(!e.is(t.originalEvent.target)||"z-index"==t.originalEvent.propertyName)||(e.off(r),f.isPlainObject(i)?i.scaleX!==v&&i.scaleY!==v&&(e.css("transition-duration","0ms"),i.width=Math.round(e.width()*i.scaleX),i.height=Math.round(e.height()*i.scaleY),i.scaleX=1,i.scaleY=1,f.envirabox.setTranslate(e,i)):!0!==o&&e.removeClass(i),f.isFunction(n)&&n(t))}),f.isNumeric(t)&&e.css("transition-duration",t+"ms"),f.isPlainObject(i)?f.envirabox.setTranslate(e,i):e.addClass(i),e.data("timer",setTimeout(function(){e.trigger("transitionend")},t+16))},stop:function(t){clearTimeout(t.data("timer")),t.off(h)}},f.fn.envirabox=function(t){var e;return(e=(t=t||{}).selector||!1)?f("body").off("click.eb-start",e).on("click.eb-start",e,{options:t},i):this.off("click.eb-start").on("click.eb-start",{items:this,options:t},i),this}))}(window,document,window.jQuery||i)},165:(t,e,i)=>{var n;window,n=function(t){"use strict";function e(){t.Item.apply(this,arguments)}var i=e.prototype=Object.create(t.Item.prototype),n=i._create,o=(i._create=function(){this.id=this.layout.itemGUID++,n.call(this),this.sortData={}},i.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t,e=this.layout.options.getSortData,i=this.layout._sorters;for(t in e){var n=i[t];this.sortData[t]=n(this.element,this)}}},i.destroy);return i.destroy=function(){o.apply(this,arguments),this.css({display:""})},e},i=[i(794)],void 0!==(e="function"==typeof(n=n)?n.apply(e,i):n)&&(t.exports=e)},204:function(t,n,e){var o,i,r,s;"function"==typeof(i=function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(!t||!e)return;var i=this._events=this._events||{};var n=i[t]=i[t]||[];if(-1===n.indexOf(e))n.push(e);return this},e.once=function(t,e){if(!t||!e)return;this.on(t,e);var i=this._onceEvents=this._onceEvents||{};var n=i[t]=i[t]||[];n[e]=true;return this},e.off=function(t,e){var i=this._events&&this._events[t];if(!i||!i.length)return;var n=i.indexOf(e);if(-1!==n)i.splice(n,1);return this},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(!i||!i.length)return;var n=0;var o=i[n];e=e||[];var r=this._onceEvents&&this._onceEvents[t];while(o){var s=r&&r[o];if(s){this.off(t,o);delete r[o]}o.apply(this,e);n+=s?0:1;o=i[n]}return this},t})?(r={id:"ev-emitter/ev-emitter",exports:{},loaded:!1},o=i.call(r.exports,e,r.exports,r),r.loaded=!0,void 0===o&&(o=r.exports)):o=i,function(e,i){"use strict";s=[o],void 0!==(s=function(t){return i(e,t)}.apply(n,s))&&(t.exports=s)}(window,function(e,t){var n=e.jQuery,o=e.console;function r(t,e){for(var i in e)t[i]=e[i];return t}function s(t,e,i){if(!(this instanceof s))return new s(t,e,i);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=function(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}(t),this.options=r({},this.options),"function"==typeof e?i=e:r(this.options,e),i&&this.on("always",i),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(function(){this.check()}.bind(this))}(s.prototype=Object.create(t.prototype)).options={},s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},s.prototype.addElementImages=function(t){"IMG"===t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&a[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background)for(var r=t.querySelectorAll(this.options.background),n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}};var a={1:!0,9:!0,11:!0};function i(t){this.img=t}function l(t,e){this.url=t,this.element=e,this.img=new Image}return s.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},s.prototype.addImage=function(t){t=new i(t);this.images.push(t)},s.prototype.addBackground=function(t,e){t=new l(t,e);this.images.push(t)},s.prototype.check=function(){var n=this;function e(t,e,i){setTimeout(function(){n.progress(t,e,i)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(t){t.once("progress",e),t.check()}):this.complete()},s.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&o&&o.log("progress: "+i,t,e)},s.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(t=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[t](this))},(i.prototype=Object.create(t.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.pendingSrc||this.img.currentSrc||this.img.src)},i.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(l.prototype=Object.create(i.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},l.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},l.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},(s.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((n=t).fn.enviraImagesLoaded=function(t,e){return new s(this,t,e).jqDeferred.promise(n(this))})})(),s})},968:function(t,n,o){var e,i,r,s,a,l,c,h,d,u,p,g,f,v,m,b,y,x,_,w,S,C,I,T;function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(e,i){"use strict";_=[o(311)],void 0!==(w=function(t){i(e,t)}.apply(n,_))&&(t.exports=w)}(window,function(t,e){"use strict";var i=Array.prototype.slice,n=t.console,d=void 0===n?function(){}:function(t){n.error(t)};function o(l,c,h){(h=h||e||t.jQuery)&&(c.prototype.option||(c.prototype.option=function(t){h.isPlainObject(t)&&(this.options=h.extend(!0,this.options,t))}),h.fn[l]=function(t){var e,n,o,r,s,a;return"string"==typeof t?(e=i.call(arguments,1),o=e,s="$()."+l+'("'+(n=t)+'")',(e=this).each(function(t,e){var i,e=h.data(e,l);e?(i=e[n])&&"_"!=n.charAt(0)?(i=i.apply(e,o),r=void 0===r?i:r):d(s+" is not a valid method"):d(l+" not initialized. Cannot call methods, i.e. "+s)}),void 0!==r?r:e):(a=t,this.each(function(t,e){var i=h.data(e,l);i?(i.option(a),i._init()):(i=new c(e,a),h.data(e,l,i))}),this)},r(h))}function r(t){t&&!t.bridget&&(t.bridget=o)}r(e||t.jQuery)}),"function"==typeof(x=function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(!t||!e)return;var i=this._events=this._events||{};var n=i[t]=i[t]||[];if(n.indexOf(e)==-1)n.push(e);return this},e.once=function(t,e){if(!t||!e)return;this.on(t,e);var i=this._onceEvents=this._onceEvents||{};var n=i[t]=i[t]||{};n[e]=true;return this},e.off=function(t,e){var i=this._events&&this._events[t];if(!i||!i.length)return;var n=i.indexOf(e);if(n!=-1)i.splice(n,1);return this},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(!i||!i.length)return;var n=0;var o=i[n];e=e||[];var r=this._onceEvents&&this._onceEvents[t];while(o){var s=r&&r[o];if(s){this.off(t,o);delete r[o]}o.apply(this,e);n+=s?0:1;o=i[n]}return this},t})?(h={id:"ev-emitter/ev-emitter",exports:{},loaded:!1},e=x.call(h.exports,o,h.exports,h),h.loaded=!0,void 0===e&&(e=h.exports)):e=x,function(){"use strict";_=[],void 0===(i=function(){"use strict";function m(t){var e=parseFloat(t);var i=t.indexOf("%")==-1&&!isNaN(e);return i&&e}function t(){}var i=typeof console=="undefined"?t:function(t){console.error(t)};var b=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];var y=b.length;function x(){var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var e=0;e<y;e++){var i=b[e];t[i]=0}return t}function _(t){var e=getComputedStyle(t);if(!e)i("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? "+"See http://bit.ly/getsizebug1");return e}var n=false;var w;function S(){if(n)return;n=true;var t=document.createElement("div");t.style.width="200px";t.style.padding="1px 2px 3px 4px";t.style.borderStyle="solid";t.style.borderWidth="1px 2px 3px 4px";t.style.boxSizing="border-box";var e=document.body||document.documentElement;e.appendChild(t);var i=_(t);o.isBoxSizeOuter=w=m(i.width)==200;e.removeChild(t)}function o(t){S();if(typeof t=="string")t=document.querySelector(t);if(!t||E(t)!="object"||!t.nodeType)return;var e=_(t);if(e.display=="none")return x();var i={};i.width=t.offsetWidth;i.height=t.offsetHeight;var n=i.isBorderBox=e.boxSizing=="border-box";for(var o=0;o<y;o++){var r=b[o];var s=e[r];var a=parseFloat(s);i[r]=!isNaN(a)?a:0}var l=i.paddingLeft+i.paddingRight;var c=i.paddingTop+i.paddingBottom;var h=i.marginLeft+i.marginRight;var d=i.marginTop+i.marginBottom;var u=i.borderLeftWidth+i.borderRightWidth;var p=i.borderTopWidth+i.borderBottomWidth;var g=n&&w;var f=m(e.width);if(f!==false)i.width=f+(g?0:l+u);var v=m(e.height);if(v!==false)i.height=v+(g?0:c+p);i.innerWidth=i.width-(l+u);i.innerHeight=i.height-(c+p);i.outerWidth=i.width+h;i.outerHeight=i.height+d;return i}return o}.apply(r={},_))&&(i=r)}(window),function(){"use strict";"function"==typeof(a=function(){"use strict";var n=function(){var t=Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";var e=["webkit","moz","ms","o"];for(var i=0;i<e.length;i++){var n=e[i];var o=n+"MatchesSelector";if(t[o])return o}}();return function t(e,i){return e[n](i)}})?(l={id:"desandro-matches-selector/matches-selector",exports:{},loaded:!1},s=a.call(l.exports,o,l.exports,l),l.loaded=!0,void 0===s&&(s=l.exports)):s=a}(window),S=window,C=function(i,r){var l={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e},makeArray:function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},removeFrom:function(t,e){e=t.indexOf(e);-1!=e&&t.splice(e,1)},getParent:function(t,e){for(;t!=document.body;)if(t=t.parentNode,r(t,e))return t},getQueryElement:function(t){return"string"==typeof t?document.querySelector(t):t},handleEvent:function(t){var e="on"+t.type;this[e]&&this[e](t)},filterFindElements:function(t,n){t=l.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement)if(n){r(t,n)&&o.push(t);for(var e=t.querySelectorAll(n),i=0;i<e.length;i++)o.push(e[i])}else o.push(t)}),o},debounceMethod:function(t,e,n){var o=t.prototype[e],r=e+"Timeout";t.prototype[e]=function(){var t=this[r],e=(t&&clearTimeout(t),arguments),i=this;this[r]=setTimeout(function(){o.apply(i,e),delete i[r]},n||100)}},docReady:function(t){"complete"==document.readyState?t():document.addEventListener("DOMContentLoaded",t)},toDashed:function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()}},c=i.console;return l.htmlInit=function(s,a){l.docReady(function(){var t=l.toDashed(a),n="data-"+t,e=document.querySelectorAll("["+n+"]"),t=document.querySelectorAll(".js-"+t),e=l.makeArray(e).concat(l.makeArray(t)),o=n+"-options",r=i.jQuery;e.forEach(function(e){var t,i=e.getAttribute(n)||e.getAttribute(o);try{t=i&&JSON.parse(i)}catch(t){return void(c&&c.error("Error parsing "+n+" on "+e.className+": "+t))}i=new s(e,t);r&&r.data(e,a,i)})})},l},_=[s],void 0===(c=function(t){return C(S,t)}.apply(h={},_))&&(c=h),window,x=[e,i],"function"==typeof(m=function(t,e){"use strict";function o(t){for(var e in t)return false;e=null;return true}var i=document.documentElement.style;var n=typeof i.transition=="string"?"transition":"WebkitTransition";var r=typeof i.transform=="string"?"transform":"WebkitTransform";var s={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[n];var a={transform:r,transition:n,transitionDuration:n+"Duration",transitionProperty:n+"Property",transitionDelay:n+"Delay"};function l(t,e){if(!t)return;this.element=t;this.layout=e;this.position={x:0,y:0};this._create()}var c=l.prototype=Object.create(t.prototype);c.constructor=l;c._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};c.handleEvent=function(t){var e="on"+t.type;if(this[e])this[e](t)};c.getSize=function(){this.size=e(this.element)};c.css=function(t){var e=this.element.style;for(var i in t){var n=a[i]||i;e[n]=t[i]}};c.getPosition=function(){var t=getComputedStyle(this.element);var e=this.layout._getOption("originLeft");var i=this.layout._getOption("originTop");var n=t[e?"left":"right"];var o=t[i?"top":"bottom"];var r=this.layout.size;var s=n.indexOf("%")!=-1?parseFloat(n)/100*r.width:parseInt(n,10);var a=o.indexOf("%")!=-1?parseFloat(o)/100*r.height:parseInt(o,10);s=isNaN(s)?0:s;a=isNaN(a)?0:a;s-=e?r.paddingLeft:r.paddingRight;a-=i?r.paddingTop:r.paddingBottom;this.position.x=s;this.position.y=a};c.layoutPosition=function(){var t=this.layout.size;var e={};var i=this.layout._getOption("originLeft");var n=this.layout._getOption("originTop");var o=i?"paddingLeft":"paddingRight";var r=i?"left":"right";var s=i?"right":"left";var a=this.position.x+t[o];e[r]=this.getXValue(a);e[s]="";var l=n?"paddingTop":"paddingBottom";var c=n?"top":"bottom";var h=n?"bottom":"top";var d=this.position.y+t[l];e[c]=this.getYValue(d);e[h]="";this.css(e);this.emitEvent("layout",[this])};c.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"};c.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"};c._transitionTo=function(t,e){this.getPosition();var i=this.position.x;var n=this.position.y;var o=parseInt(t,10);var r=parseInt(e,10);var s=o===this.position.x&&r===this.position.y;this.setPosition(t,e);if(s&&!this.isTransitioning){this.layoutPosition();return}var a=t-i;var l=e-n;var c={};c.transform=this.getTranslate(a,l);this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:true})};c.getTranslate=function(t,e){var i=this.layout._getOption("originLeft");var n=this.layout._getOption("originTop");t=i?t:-t;e=n?e:-e;return"translate3d("+t+"px, "+e+"px, 0)"};c.goTo=function(t,e){this.setPosition(t,e);this.layoutPosition()};c.moveTo=c._transitionTo;c.setPosition=function(t,e){this.position.x=parseInt(t,10);this.position.y=parseInt(e,10)};c._nonTransition=function(t){this.css(t.to);if(t.isCleaning)this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)};c.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(t);return}var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to){e.ingProperties[i]=true;if(t.isCleaning)e.clean[i]=true}if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to);this.css(t.to);this.isTransitioning=true};function h(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var d="opacity,"+h(r);c.enableTransition=function(){if(this.isTransitioning)return;var t=this.layout.options.transitionDuration;t=typeof t=="number"?t+"ms":t;this.css({transitionProperty:d,transitionDuration:t,transitionDelay:this.staggerDelay||0});this.element.addEventListener(s,this,false)};c.onwebkitTransitionEnd=function(t){this.ontransitionend(t)};c.onotransitionend=function(t){this.ontransitionend(t)};var u={"-webkit-transform":"transform"};c.ontransitionend=function(t){if(t.target!==this.element)return;var e=this._transn;var i=u[t.propertyName]||t.propertyName;delete e.ingProperties[i];if(o(e.ingProperties))this.disableTransition();if(i in e.clean){this.element.style[t.propertyName]="";delete e.clean[i]}if(i in e.onEnd){var n=e.onEnd[i];n.call(this);delete e.onEnd[i]}this.emitEvent("transitionEnd",[this])};c.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(s,this,false);this.isTransitioning=false};c._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var p={transitionProperty:"",transitionDuration:"",transitionDelay:""};c.removeTransitionStyles=function(){this.css(p)};c.stagger=function(t){t=isNaN(t)?0:t;this.staggerDelay=t+"ms"};c.removeElem=function(){this.element.parentNode.removeChild(this.element);this.css({display:""});this.emitEvent("remove",[this])};c.remove=function(){if(!n||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem()});this.hide()};c.reveal=function(){delete this.isHidden;this.css({display:""});var t=this.layout.options;var e={};var i=this.getHideRevealTransitionEndProperty("visibleStyle");e[i]=this.onRevealTransitionEnd;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:true,onTransitionEnd:e})};c.onRevealTransitionEnd=function(){if(!this.isHidden)this.emitEvent("reveal")};c.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i};c.hide=function(){this.isHidden=true;this.css({display:""});var t=this.layout.options;var e={};var i=this.getHideRevealTransitionEndProperty("hiddenStyle");e[i]=this.onHideTransitionEnd;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:true,onTransitionEnd:e})};c.onHideTransitionEnd=function(){if(this.isHidden){this.css({display:"none"});this.emitEvent("hide")}};c.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})};return l})?void 0===(d=m.apply(g={},x))&&(d=g):d=m,function(o,r){"use strict";_=[e,i,c,d],void 0===(u=function(t,e,i,n){return r(o,t,e,i,n)}.apply(p={},_))&&(u=p)}(window,function(t,e,o,n,r){"use strict";function i(){}var s=t.console,a=t.jQuery,l=0,c={};function h(t,e){var i=n.getQueryElement(t);i?(this.element=i,a&&(this.$element=a(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e),e=++l,this.element.outlayerGUID=e,(c[e]=this)._create(),this._getOption("initLayout")&&this.layout()):s&&s.error("Bad element for "+this.constructor.namespace+": "+(i||t))}h.namespace="outlayer",h.Item=r,h.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var d=h.prototype;function u(t){function e(){t.apply(this,arguments)}return(e.prototype=Object.create(t.prototype)).constructor=e}n.extend(d,e.prototype),d.option=function(t){n.extend(this.options,t)},d._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},h.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},d._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},d.reloadItems=function(){this.items=this._itemize(this.element.children)},d._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var r=new i(e[o],this);n.push(r)}return n},d._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},d.getItemElements=function(){return this.items.map(function(t){return t.element})},d.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),t=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},d._init=d.layout,d._resetLayout=function(){this.getSize()},d.getSize=function(){this.size=o(this.element)},d._getMeasurement=function(t,e){var i,n=this.options[t];n?("string"==typeof n?i=this.element.querySelector(n):n instanceof HTMLElement&&(i=n),this[t]=i?o(i)[e]:n):this[t]=0},d.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},d._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},d._layoutItems=function(t,i){var n;this._emitCompleteOnItems("layout",t),t&&t.length&&(n=[],t.forEach(function(t){var e=this._getItemLayoutPosition(t);e.item=t,e.isInstant=i||t.isLayoutInstant,n.push(e)},this),this._processLayoutQueue(n))},d._getItemLayoutPosition=function(){return{x:0,y:0}},d._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},d.updateStagger=function(){var t=this.options.stagger;if(null!=t)return this.stagger=function(t){if("number"==typeof t)return t;var t=t.match(/(^\d*\.?\d*)(\w*)/),e=t&&t[1],t=t&&t[2];if(!e.length)return 0;e=parseFloat(e);t=p[t]||1;return e*t}(t),this.stagger;this.stagger=0},d._positionItem=function(t,e,i,n,o){n?t.goTo(e,i):(t.stagger(o*this.stagger),t.moveTo(e,i))},d._postLayout=function(){this.resizeContainer()},d.resizeContainer=function(){var t;!this._getOption("resizeContainer")||(t=this._getContainerSize())&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))},d._getContainerSize=i,d._setContainerMeasure=function(t,e){var i;void 0!==t&&((i=this.size).isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px")},d._emitCompleteOnItems=function(e,t){var i=this;function n(){i.dispatchEvent(e+"Complete",null,[t])}var o,r=t.length;function s(){++o==r&&n()}t&&r?(o=0,t.forEach(function(t){t.once(e,s)})):n()},d.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;this.emitEvent(t,n),a&&(this.$element=this.$element||a(this.element),e?((n=a.Event(e)).type=t,this.$element.trigger(n,i)):this.$element.trigger(t,i))},d.ignore=function(t){t=this.getItem(t);t&&(t.isIgnored=!0)},d.unignore=function(t){t=this.getItem(t);t&&delete t.isIgnored},d.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},d.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},d._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)},d._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},d._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},d._manageStamp=i,d._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,t=o(t);return{left:e.left-i.left-t.marginLeft,top:e.top-i.top-t.marginTop,right:i.right-e.right-t.marginRight,bottom:i.bottom-e.bottom-t.marginBottom}},d.handleEvent=n.handleEvent,d.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},d.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},d.onresize=function(){this.resize()},n.debounceMethod(h,"onresize",100),d.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},d.needsResizeLayout=function(){var t=o(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},d.addItems=function(t){t=this._itemize(t);return t.length&&(this.items=this.items.concat(t)),t},d.appended=function(t){t=this.addItems(t);t.length&&(this.layoutItems(t,!0),this.reveal(t))},d.prepended=function(t){var e,t=this._itemize(t);t.length&&(e=this.items.slice(0),this.items=t.concat(e),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(e))},d.reveal=function(t){var i;this._emitCompleteOnItems("reveal",t),t&&t.length&&(i=this.updateStagger(),t.forEach(function(t,e){t.stagger(e*i),t.reveal()}))},d.hide=function(t){var i;this._emitCompleteOnItems("hide",t),t&&t.length&&(i=this.updateStagger(),t.forEach(function(t,e){t.stagger(e*i),t.hide()}))},d.revealItemElements=function(t){t=this.getItems(t);this.reveal(t)},d.hideItemElements=function(t){t=this.getItems(t);this.hide(t)},d.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},d.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){t=this.getItem(t);t&&e.push(t)},this),e},d.remove=function(t){t=this.getItems(t);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},d.destroy=function(){var t=this.element.style,t=(t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize(),this.element.outlayerGUID);delete c[t],delete this.element.outlayerGUID,a&&a.removeData(this.element,this.constructor.namespace)},h.data=function(t){t=(t=n.getQueryElement(t))&&t.outlayerGUID;return t&&c[t]},h.create=function(t,e){var i=u(h);return i.defaults=n.extend({},h.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},h.compatOptions),i.namespace=t,i.data=h.data,i.Item=u(r),n.htmlInit(i,t),a&&a.bridget&&a.bridget(t,i),i};var p={ms:1,s:1e3};return h.Item=r,h}),window,_=[u],void 0!==(w="function"==typeof(x=function(t){"use strict";function e(){t.Item.apply(this,arguments)}var i=e.prototype=Object.create(t.Item.prototype),n=i._create,o=(i._create=function(){this.id=this.layout.itemGUID++,n.call(this),this.sortData={}},i.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t,e=this.layout.options.getSortData,i=this.layout._sorters;for(t in e){var n=i[t];this.sortData[t]=n(this.element,this)}}},i.destroy);return i.destroy=function(){o.apply(this,arguments),this.css({display:""})},e})?x.apply(n,_):x)&&(t.exports=w),window,g=[i,u],"function"==typeof(m=function(e,i){"use strict";function n(t){(this.enviratope=t)&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}var o=n.prototype;return["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"].forEach(function(t){o[t]=function(){return i.prototype[t].apply(this.enviratope,arguments)}}),o.needsVerticalResizeLayout=function(){var t=e(this.enviratope.element);return this.enviratope.size&&t&&t.innerHeight!=this.enviratope.size.innerHeight},o._getMeasurement=function(){this.enviratope._getMeasurement.apply(this,arguments)},o.getColumnWidth=function(){this.getSegmentSize("column","Width")},o.getRowHeight=function(){this.getSegmentSize("row","Height")},o.getSegmentSize=function(t,e){var i,t=t+e,n="outer"+e;this._getMeasurement(t,n),this[t]||(i=this.getFirstItemSize(),this[t]=i&&i[n]||this.enviratope.size["inner"+e])},o.getFirstItemSize=function(){var t=this.enviratope.filteredItems[0];return t&&t.element&&e(t.element)},o.layout=function(){this.enviratope.layout.apply(this.enviratope,arguments)},o.getSize=function(){this.enviratope.getSize(),this.size=this.enviratope.size},n.modes={},n.create=function(t,e){function i(){n.apply(this,arguments)}return(i.prototype=Object.create(o)).constructor=i,e&&(i.options=e),n.modes[i.prototype.namespace=t]=i},n})?void 0===(f=m.apply(v={},g))&&(f=v):f=m,window,v=[u,i],"function"==typeof(m=function(t,d){var e=t.create("masonry");e.compatOptions.fitWidth="isFitWidth";e.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0};e.prototype.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var t=this.items[0];var e=t&&t.element;this.columnWidth=e&&d(e).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter;var n=this.containerWidth+this.gutter;var o=n/i;var r=i-n%i;var s=r&&r<1?"round":"floor";o=Math[s](o);this.cols=Math.max(o,1)};e.prototype.getContainerWidth=function(){var t=this._getOption("fitWidth");var e=t?this.element.parentNode:this.element;var i=d(e);this.containerWidth=i&&i.innerWidth};e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth;var i=e&&e<1?"round":"ceil";var n=Math[i](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);var o=this._getColGroup(n);var r=Math.min.apply(Math,o);var s=o.indexOf(r);var a={x:this.columnWidth*s,y:r};var l=r+t.size.outerHeight;var c=this.cols+1-o.length;for(var h=0;h<c;h++)this.colYs[s+h]=l;return a};e.prototype._getColGroup=function(t){if(t<2)return this.colYs;var e=[];var i=this.cols+1-t;for(var n=0;n<i;n++){var o=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,o)}return e};e.prototype._manageStamp=function(t){var e=d(t);var i=this._getElementOffset(t);var n=this._getOption("originLeft");var o=n?i.left:i.right;var r=o+e.outerWidth;var s=Math.floor(o/this.columnWidth);s=Math.max(0,s);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1;a=Math.min(this.cols-1,a);var l=this._getOption("originTop");var c=(l?i.top:i.bottom)+e.outerHeight;for(var h=s;h<=a;h++)this.colYs[h]=Math.max(c,this.colYs[h])};e.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};if(this._getOption("fitWidth"))t.width=this._getContainerFitWidth();return t};e.prototype._getContainerFitWidth=function(){var t=0;var e=this.cols;while(--e){if(this.colYs[e]!==0)break;t++}return(this.cols-t)*this.columnWidth-this.gutter};e.prototype.needsResizeLayout=function(){var t=this.containerWidth;this.getContainerWidth();return t!=this.containerWidth};return e})?void 0===(y=m.apply(b={},v))&&(y=b):y=m,window,_=[f,y],void 0!==(w="function"==typeof(x=function(t,e){"use strict";var i,t=t.create("masonry"),n=t.prototype,o={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(i in e.prototype)o[i]||(n[i]=e.prototype[i]);var r=n.measureColumns,s=(n.measureColumns=function(){this.items=this.enviratope.filteredItems,r.call(this)},n._getOption);return n._getOption=function(t){return"fitWidth"==t?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:s.apply(this.enviratope,arguments)},t})?x.apply(n,_):x)&&(t.exports=w),window,_=[f],void 0!==(w="function"==typeof(x=function(t){"use strict";var e=t.create("fitRows");var i=e.prototype;i._resetLayout=function(){this.x=0;this.y=0;this.maxY=0;this._getMeasurement("gutter","outerWidth")};i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter;var i=this.enviratope.size.innerWidth+this.gutter;if(this.x!==0&&e+this.x>i){this.x=0;this.y=this.maxY}var n={x:this.x,y:this.y};this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight);this.x+=e;return n};i._getContainerSize=function(){return{height:this.maxY}};return e})?x.apply(n,_):x)&&(t.exports=w),window,_=[f],void 0!==(w="function"==typeof(x=function(t){"use strict";var e=t.create("vertical",{horizontalAlignment:0});var i=e.prototype;i._resetLayout=function(){this.y=0};i._getItemLayoutPosition=function(t){t.getSize();var e=(this.enviratope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment;var i=this.y;this.y+=t.size.outerHeight;return{x:e,y:i}};i._getContainerSize=function(){return{height:this.y}};return e})?x.apply(n,_):x)&&(t.exports=w),I=window,T=function(t,i,e,n,r,o,s){var a,l,c=t.jQuery,h=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},d=i.create("enviratope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0}),t=(d.Item=o,d.LayoutMode=s,d.prototype),u=(t._create=function(){for(var t in this.itemGUID=0,this._sorters={},this._getSorters(),i.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"],s.modes)this._initLayoutMode(t)},t.reloadItems=function(){this.itemGUID=0,i.prototype.reloadItems.call(this)},t._itemize=function(){for(var t=i.prototype._itemize.apply(this,arguments),e=0;e<t.length;e++)t[e].id=this.itemGUID++;return this._updateItemsSortData(t),t},t._initLayoutMode=function(t){var e=s.modes[t],i=this.options[t]||{};this.options[t]=e.options?r.extend(e.options,i):i,this.modes[t]=new e(this)},t.layout=function(){!this._isLayoutInited&&this._getOption("initLayout")?this.arrange():this._layout()},t._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},t.arrange=function(t){this.option(t),this._getIsInstant();t=this._filter(this.items);this.filteredItems=t.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[t]):this._hideReveal(t),this._sort(),this._layout()},t._init=t.arrange,t._hideReveal=function(t){this.reveal(t.needReveal),this.hide(t.needHide)},t._getIsInstant=function(){var t=this._getOption("layoutInstant"),t=void 0!==t?t:!this._isLayoutInited;return this._isInstant=t},t._bindArrangeComplete=function(){var t,e,i,n=this;function o(){t&&e&&i&&n.dispatchEvent("arrangeComplete",null,[n.filteredItems])}this.once("layoutComplete",function(){t=!0,o()}),this.once("hideComplete",function(){e=!0,o()}),this.once("revealComplete",function(){i=!0,o()})},t._filter=function(t){for(var e=this.options.filter,i=[],n=[],o=[],r=this._getFilterTest(e||"*"),s=0;s<t.length;s++){var a,l=t[s];l.isIgnored||((a=r(l))&&i.push(l),a&&l.isHidden?n.push(l):a||l.isHidden||o.push(l))}return{matches:i,needReveal:n,needHide:o}},t._getFilterTest=function(e){return c&&this.options.isJQueryFiltering?function(t){return c(t.element).is(e)}:"function"==typeof e?function(t){return e(t.element)}:function(t){return n(t.element,e)}},t.updateSortData=function(t){t=t?(t=r.makeArray(t),this.getItems(t)):this.items;this._getSorters(),this._updateItemsSortData(t)},t._getSorters=function(){var t,e=this.options.getSortData;for(t in e){var i=e[t];this._sorters[t]=u(i)}},t._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&i<e;i++)t[i].updateSortData()},function(t){if("string"!=typeof t)return t;var e=h(t).split(" "),i=e[0],n=i.match(/^\[(.+)\]$/),o=function(e,i){if(e)return function(t){return t.getAttribute(e)};return function(t){t=t.querySelector(i);return t&&t.textContent}}(n&&n[1],i),r=d.sortDataParsers[e[1]];return t=r?function(t){return t&&r(o(t))}:function(t){return t&&o(t)}});function p(t){return a.apply(this,arguments)}function g(t){return l.apply(this,arguments)}d.sortDataParsers={parseInt:(l=function(t){return parseInt(t,10)},g.toString=function(){return l.toString()},g),parseFloat:(a=function(t){return parseFloat(t)},p.toString=function(){return a.toString()},p)},t._sort=function(){var t,s,a,e=this.options.sortBy;e&&(t=[].concat.apply(e,this.sortHistory),s=t,a=this.options.sortAscending,this.filteredItems.sort(function(t,e){for(var i=0;i<s.length;i++){var n=s[i],o=t.sortData[n],r=e.sortData[n];if(r<o||o<r)return(r<o?1:-1)*((void 0!==a[n]?a[n]:a)?1:-1)}return 0}),e!=this.sortHistory[0]&&this.sortHistory.unshift(e))},t._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(e)return e.options=this.options[t],e;throw new Error("No layout mode: "+t)},t._resetLayout=function(){i.prototype._resetLayout.call(this),this._mode()._resetLayout()},t._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},t._manageStamp=function(t){this._mode()._manageStamp(t)},t._getContainerSize=function(){return this._mode()._getContainerSize()},t.needsResizeLayout=function(){return this._mode().needsResizeLayout()},t.appended=function(t){var t=this.addItems(t);t.length&&(t=this._filterRevealAdded(t),this.filteredItems=this.filteredItems.concat(t))},t.prepended=function(t){var e,t=this._itemize(t);t.length&&(this._resetLayout(),this._manageStamps(),e=this._filterRevealAdded(t),this.layoutItems(this.filteredItems),this.filteredItems=e.concat(this.filteredItems),this.items=t.concat(this.items))},t._filterRevealAdded=function(t){t=this._filter(t);return this.hide(t.needHide),this.reveal(t.matches),this.layoutItems(t.matches,!0),t.matches},t.insert=function(t){var e=this.addItems(t);if(e.length){for(var i,n=e.length,o=0;o<n;o++)i=e[o],this.element.appendChild(i.element);t=this._filter(e).matches;for(o=0;o<n;o++)e[o].isLayoutInstant=!0;for(this.arrange(),o=0;o<n;o++)delete e[o].isLayoutInstant;this.reveal(t)}};var f=t.remove;return t.remove=function(t){t=r.makeArray(t);for(var e=this.getItems(t),i=(f.call(this,t),e&&e.length),n=0;i&&n<i;n++){var o=e[n];r.removeFrom(this.filteredItems,o)}},t.shuffle=function(){for(var t=0;t<this.items.length;t++)this.items[t].sortData.random=Math.random();this.options.sortBy="random",this._sort(),this._layout()},t._noTransition=function(t,e){var i=this.options.transitionDuration,t=(this.options.transitionDuration=0,t.apply(this,e));return this.options.transitionDuration=i,t},t.getFilteredItemElements=function(){return this.filteredItems.map(function(t){return t.element})},d},_=[u,i,s,c,o(165),o(477),o(245),o(620),o(175)],void 0!==(w=function(t,e,i,n,o,r){return T(I,t,0,i,n,o,r)}.apply(n,_))&&(t.exports=w)},59:(t,e,i)=>{var h,n,i=i(311);function o(){return h("body").height()>h(window).height()}function r(t,e){this.settings=e,this.checkSettings(),this.imgAnalyzerTimeout=null,this.entries=null,this.buildingRow={entriesBuff:[],width:0,height:0,aspectRatio:0},this.lastAnalyzedIndex=-1,this.yield={every:2,flushed:0},this.border=0<=e.border?e.border:e.margins,this.maxRowHeight=this.retrieveMaxRowHeight(),this.suffixRanges=this.retrieveSuffixRanges(),this.offY=this.border,this.rows=0,this.spinner={phase:0,timeSlot:150,$el:h('<div class="spinner"><span></span><span></span><span></span></div>'),intervalId:null},this.checkWidthIntervalId=null,this.galleryWidth=t.width(),this.$gallery=t}h=i,r.prototype.getSuffix=function(t,e){for(var i=e<t?t:e,n=0;n<this.suffixRanges.length;n++)if(i<=this.suffixRanges[n])return this.settings.sizeRangeSuffixes[this.suffixRanges[n]];return this.settings.sizeRangeSuffixes[this.suffixRanges[n-1]]},r.prototype.removeSuffix=function(t,e){return t.substring(0,t.length-e.length)},r.prototype.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},r.prototype.getUsedSuffix=function(t){for(var e in this.settings.sizeRangeSuffixes)if(this.settings.sizeRangeSuffixes.hasOwnProperty(e)&&0!==this.settings.sizeRangeSuffixes[e].length&&this.endsWith(t,this.settings.sizeRangeSuffixes[e]))return this.settings.sizeRangeSuffixes[e];return""},r.prototype.newSrc=function(t,e,i){var n,o;return this.settings.thumbnailPath?o=this.settings.thumbnailPath(t,e,i):(n=null!==(n=t.match(this.settings.extension))?n[0]:"",o=t.replace(this.settings.extension,""),o=this.removeSuffix(o,this.getUsedSuffix(o)),o+=this.getSuffix(e,i)+n),o},r.prototype.showImg=function(t,e){this.settings.cssAnimation?(t.addClass("entry-visible"),e&&e()):t.stop().fadeTo(this.settings.imagesAnimationDuration,1,e)},r.prototype.extractImgSrcFromImage=function(t){var e=void 0!==t.data("safe-src")?t.data("safe-src"):t.attr("src");return t.data("jg.originalSrc",e),e},r.prototype.imgFromEntry=function(t){var e=t.find("> img");return 0===(e=0===e.length?t.find("> a > img"):e).length?null:e},r.prototype.captionFromEntry=function(t){t=t.find(".caption");return 0===t.length?null:t},r.prototype.displayEntry=function(t,e,i,n,o,r){t.width(n),t.height(r),t.css("top",i),t.css("left",e);var s,a,l,c=this.imgFromEntry(t);null!==c?(c.css("width",n),c.css("height",o),c.css("margin-left",-n/2),c.css("margin-top",-o/2),s=c.attr("src"),a=this.newSrc(s,n,o),c.one("error",function(){c.attr("src",c.data("jg.originalSrc"))}),l=function(){s!==a&&c.attr("src",a)},"skipped"===t.data("jg.loaded")?this.onImageEvent(s,h.proxy(function(){this.showImg(t,l),t.data("jg.loaded",!0)},this)):this.showImg(t,l)):this.showImg(t),this.displayEntryCaption(t)},r.prototype.displayEntryCaption=function(t){var e,i=this.imgFromEntry(t);null!==i&&this.settings.captions?(null===(e=this.captionFromEntry(t))&&(i=i.attr("alt"),this.isValidCaption(i)||(i=t.attr("title")),this.isValidCaption(i)&&(e=h('<div class="caption">'+i+"</div>"),t.append(e),t.data("jg.createdCaption",!0))),null!==e&&(this.settings.cssAnimation||e.stop().fadeTo(0,this.settings.captionSettings.nonVisibleOpacity),this.addCaptionEventsHandlers(t))):this.removeCaptionEventsHandlers(t)},r.prototype.isValidCaption=function(t){return void 0!==t&&0<t.length},r.prototype.onEntryMouseEnterForCaption=function(t){t=this.captionFromEntry(h(t.currentTarget));this.settings.cssAnimation?void 0!==t&&null!=t&&t.addClass("caption-visible").removeClass("caption-hidden"):void 0!==t&&null!=t&&t.stop().fadeTo(this.settings.captionSettings.animationDuration,this.settings.captionSettings.visibleOpacity)},r.prototype.onEntryMouseLeaveForCaption=function(t){t=this.captionFromEntry(h(t.currentTarget));this.settings.cssAnimation?void 0!==t&&null!=t&&t.removeClass("caption-visible").removeClass("caption-hidden"):void 0!==t&&null!=t&&t.stop().fadeTo(this.settings.captionSettings.animationDuration,this.settings.captionSettings.nonVisibleOpacity)},r.prototype.addCaptionEventsHandlers=function(t){var e;void 0===t.data("jg.captionMouseEvents")&&(e={mouseenter:h.proxy(this.onEntryMouseEnterForCaption,this),mouseleave:h.proxy(this.onEntryMouseLeaveForCaption,this)},t.on("mouseenter",void 0,void 0,e.mouseenter),t.on("mouseleave",void 0,void 0,e.mouseleave),t.data("jg.captionMouseEvents",e))},r.prototype.removeCaptionEventsHandlers=function(t){var e=t.data("jg.captionMouseEvents");void 0!==e&&(t.off("mouseenter",void 0,e.mouseenter),t.off("mouseleave",void 0,e.mouseleave),t.removeData("jg.captionMouseEvents"))},r.prototype.prepareBuildingRow=function(t){var e,i,n,o,r=!0,s=0,a=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*this.settings.margins,l=a/this.buildingRow.aspectRatio,c=this.settings.rowHeight,h=this.buildingRow.width/a>this.settings.justifyThreshold;if(t&&"hide"===this.settings.lastRow&&!h){for(e=0;e<this.buildingRow.entriesBuff.length;e++)i=this.buildingRow.entriesBuff[e],this.settings.cssAnimation?i.removeClass("entry-visible"):i.stop().fadeTo(0,0);return-1}for(t&&!h&&"justify"!==this.settings.lastRow&&"hide"!==this.settings.lastRow&&(r=!1,0<this.rows&&(r=(c=(this.offY-this.border-this.settings.margins*this.rows)/this.rows)*this.buildingRow.aspectRatio/a>this.settings.justifyThreshold)),e=0;e<this.buildingRow.entriesBuff.length;e++)o=(i=this.buildingRow.entriesBuff[e]).data("jg.width")/i.data("jg.height"),o=r?(n=e===this.buildingRow.entriesBuff.length-1?a:l*o,l):(n=c*o,c),a-=Math.round(n),i.data("jg.jwidth",Math.round(n)),i.data("jg.jheight",Math.ceil(o)),(0===e||o<s)&&(s=o);return this.settings.fixedHeight&&s>this.settings.rowHeight&&(s=this.settings.rowHeight),this.buildingRow.height=s,r},r.prototype.clearBuildingRow=function(){this.buildingRow.entriesBuff=[],this.buildingRow.aspectRatio=0,this.buildingRow.width=0},n=!(r.prototype.flushRow=function(t){var e,i=this.settings,n=this.border,o=this.prepareBuildingRow(t);if(t&&"hide"===i.lastRow&&-1===o)this.clearBuildingRow();else{if(this.maxRowHeight.isPercentage?this.maxRowHeight.value*i.rowHeight<this.buildingRow.height&&(this.buildingRow.height=this.maxRowHeight.value*i.rowHeight):0<this.maxRowHeight.value&&this.maxRowHeight.value<this.buildingRow.height&&(this.buildingRow.height=this.maxRowHeight.value),"center"===i.lastRow||"right"===i.lastRow){for(var r=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*i.margins,s=0;s<this.buildingRow.entriesBuff.length;s++)r-=(e=this.buildingRow.entriesBuff[s]).data("jg.jwidth");"center"===i.lastRow?n+=r/2:"right"===i.lastRow&&(n+=r)}for(s=0;s<this.buildingRow.entriesBuff.length;s++)e=this.buildingRow.entriesBuff[s],this.displayEntry(e,n,this.offY,e.data("jg.jwidth"),e.data("jg.jheight"),this.buildingRow.height),n+=e.data("jg.jwidth")+i.margins;this.galleryHeightToSet=this.offY+this.buildingRow.height+this.border,this.$gallery.height(this.galleryHeightToSet+this.getSpinnerHeight()),(!t||this.buildingRow.height<=i.rowHeight&&o)&&(this.offY+=this.buildingRow.height+i.margins,this.rows+=1,this.clearBuildingRow(),this.$gallery.trigger("jg.rowflush"))}}),r.prototype.checkWidth=function(){this.checkWidthIntervalId=setInterval(h.proxy(function(){var t=parseFloat(this.$gallery.width());o()===n?Math.abs(t-this.galleryWidth)>this.settings.refreshSensitivity&&(this.galleryWidth=t,this.rewind(),this.startImgAnalyzer(!0)):(n=o(),this.galleryWidth=t)},this),this.settings.refreshTime)},r.prototype.isSpinnerActive=function(){return null!==this.spinner.intervalId},r.prototype.getSpinnerHeight=function(){return this.spinner.$el.innerHeight()},r.prototype.stopLoadingSpinnerAnimation=function(){clearInterval(this.spinner.intervalId),this.spinner.intervalId=null,this.$gallery.height(this.$gallery.height()-this.getSpinnerHeight()),this.spinner.$el.detach()},r.prototype.startLoadingSpinnerAnimation=function(){var t=this.spinner,e=t.$el.find("span");clearInterval(t.intervalId),this.$gallery.append(t.$el),this.$gallery.height(this.offY+this.buildingRow.height+this.getSpinnerHeight()),t.intervalId=setInterval(function(){t.phase<e.length?e.eq(t.phase).fadeTo(t.timeSlot,1):e.eq(t.phase-e.length).fadeTo(t.timeSlot,0),t.phase=(t.phase+1)%(2*e.length)},t.timeSlot)},r.prototype.rewind=function(){this.lastAnalyzedIndex=-1,this.offY=this.border,this.rows=0,this.clearBuildingRow()},r.prototype.updateEntries=function(t){return this.entries=this.$gallery.find(this.settings.selector).toArray(),0!==this.entries.length&&(this.settings.filter?this.modifyEntries(this.filterArray,t):this.modifyEntries(this.resetFilters,t),h.isFunction(this.settings.sort)?this.modifyEntries(this.sortArray,t):this.settings.randomize&&this.modifyEntries(this.shuffleArray,t),!0)},r.prototype.insertToGallery=function(t){var e=this;h.each(t,function(){h(this).appendTo(e.$gallery)})},r.prototype.shuffleArray=function(t){for(var e,i,n=t.length-1;0<n;n--)e=Math.floor(Math.random()*(n+1)),i=t[n],t[n]=t[e],t[e]=i;return this.insertToGallery(t),t},r.prototype.sortArray=function(t){return t.sort(this.settings.sort),this.insertToGallery(t),t},r.prototype.resetFilters=function(t){for(var e=0;e<t.length;e++)h(t[e]).removeClass("jg-filtered");return t},r.prototype.filterArray=function(t){var e=this.settings;return"string"===h.type(e.filter)?t.filter(function(t){t=h(t);return t.is(e.filter)?(t.removeClass("jg-filtered"),!0):(t.addClass("jg-filtered"),!1)}):h.isFunction(e.filter)?t.filter(e.filter):void 0},r.prototype.modifyEntries=function(t,e){var i=e?this.entries.splice(this.lastAnalyzedIndex+1,this.entries.length-this.lastAnalyzedIndex-1):this.entries,i=t.call(this,i);this.entries=e?this.entries.concat(i):i},r.prototype.destroy=function(){clearInterval(this.checkWidthIntervalId),h.each(this.entries,h.proxy(function(t,e){var e=h(e),i=(e.css("width",""),e.css("height",""),e.css("top",""),e.css("left",""),e.data("jg.loaded",void 0),e.removeClass("jg-entry"),this.imgFromEntry(e)),i=(i.css("width",""),i.css("height",""),i.css("margin-left",""),i.css("margin-top",""),i.attr("src",i.data("jg.originalSrc")),i.data("jg.originalSrc",void 0),this.removeCaptionEventsHandlers(e),this.captionFromEntry(e));e.data("jg.createdCaption")?(e.data("jg.createdCaption",void 0),null!==i&&i.remove()):null!==i&&i.fadeTo(0,1)},this)),this.$gallery.css("height",""),this.$gallery.removeClass("envira-justified-gallery"),this.$gallery.data("jg.controller",void 0)},r.prototype.analyzeImages=function(t){for(var e=this.lastAnalyzedIndex+1;e<this.entries.length;e++){var i=h(this.entries[e]);if(!0===i.data("jg.loaded")||"skipped"===i.data("jg.loaded")){var n=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*this.settings.margins,o=i.data("jg.width")/i.data("jg.height");if(n/(this.buildingRow.aspectRatio+o)<this.settings.rowHeight&&(this.flushRow(!1),++this.yield.flushed>=this.yield.every))return void this.startImgAnalyzer(t);this.buildingRow.entriesBuff.push(i),this.buildingRow.aspectRatio+=o,this.buildingRow.width+=o*this.settings.rowHeight,this.lastAnalyzedIndex=e}else if("error"!==i.data("jg.loaded"))return}0<this.buildingRow.entriesBuff.length&&this.flushRow(!0),this.isSpinnerActive()&&this.stopLoadingSpinnerAnimation(),this.stopImgAnalyzerStarter(),this.$gallery.trigger(t?"jg.resize":"jg.complete"),this.$gallery.height(this.galleryHeightToSet)},r.prototype.stopImgAnalyzerStarter=function(){this.yield.flushed=0,null!==this.imgAnalyzerTimeout&&clearTimeout(this.imgAnalyzerTimeout)},r.prototype.startImgAnalyzer=function(t){var e=this;this.stopImgAnalyzerStarter(),this.imgAnalyzerTimeout=setTimeout(function(){e.analyzeImages(t)},.001)},r.prototype.onImageEvent=function(t,e,i){var n,o;(e||i)&&(n=new Image,o=h(n),e&&o.one("load",function(){o.off("load error"),e(n)}),i&&o.one("error",function(){o.off("load error"),i(n)}),n.src=t)},r.prototype.init=function(){var r=!1,s=!1,a=this;h.each(this.entries,function(t,e){var i=h(e),e=a.imgFromEntry(i);if(i.addClass("jg-entry"),!0!==i.data("jg.loaded")&&"skipped"!==i.data("jg.loaded"))if(null!==a.settings.rel&&i.attr("rel",a.settings.rel),null!==a.settings.target&&i.attr("target",a.settings.target),null!==e){var n=a.extractImgSrcFromImage(e);if(e.attr("src",n),!1===a.settings.waitThumbnailsLoad){var o=parseFloat(e.attr("width")),e=parseFloat(e.attr("height"));if(!isNaN(o)&&!isNaN(e))return i.data("jg.width",o),i.data("jg.height",e),i.data("jg.loaded","skipped"),s=!0,a.startImgAnalyzer(!1),!0}i.data("jg.loaded",!1),r=!0,a.isSpinnerActive()||a.startLoadingSpinnerAnimation(),a.onImageEvent(n,function(t){i.data("jg.width",i.find(".envira-gallery-image").data("envira-width")),i.data("jg.height",i.find(".envira-gallery-image").data("envira-height")),i.data("jg.loaded",!0),a.startImgAnalyzer(!1)},function(){i.data("jg.loaded","error"),a.startImgAnalyzer(!1)})}else i.data("jg.loaded",!0),i.data("jg.width",i.width()|parseFloat(i.css("width"))|1),i.data("jg.height",i.height()|parseFloat(i.css("height"))|1)}),r||s||this.startImgAnalyzer(!1),this.checkWidth()},r.prototype.checkOrConvertNumber=function(t,e){if("string"===h.type(t[e])&&(t[e]=parseFloat(t[e])),"number"!==h.type(t[e]))throw e+" must be a number";if(isNaN(t[e]))throw"invalid number for "+e},r.prototype.checkSizeRangesSuffixes=function(){if("object"!==h.type(this.settings.sizeRangeSuffixes))throw"sizeRangeSuffixes must be defined and must be an object";var t,e=[];for(t in this.settings.sizeRangeSuffixes)this.settings.sizeRangeSuffixes.hasOwnProperty(t)&&e.push(t);for(var i={0:""},n=0;n<e.length;n++)if("string"===h.type(e[n]))try{i[parseInt(e[n].replace(/^[a-z]+/,""),10)]=this.settings.sizeRangeSuffixes[e[n]]}catch(t){throw"sizeRangeSuffixes keys must contains correct numbers ("+t+")"}else i[e[n]]=this.settings.sizeRangeSuffixes[e[n]];this.settings.sizeRangeSuffixes=i},r.prototype.retrieveMaxRowHeight=function(){var t={};if("string"===h.type(this.settings.maxRowHeight))this.settings.maxRowHeight.match(/^[0-9]+%$/)?(t.value=parseFloat(this.settings.maxRowHeight.match(/^([0-9]+)%$/)[1])/100,t.isPercentage=!1):(t.value=parseFloat(this.settings.maxRowHeight),t.isPercentage=!0);else{if("number"!==h.type(this.settings.maxRowHeight))throw"maxRowHeight must be a number or a percentage";t.value=this.settings.maxRowHeight,t.isPercentage=!1}if(isNaN(t.value))throw"invalid number for maxRowHeight";return t.isPercentage?t.value<100&&(t.value=100):0<t.value&&t.value<this.settings.rowHeight&&(t.value=this.settings.rowHeight),t},r.prototype.checkSettings=function(){this.checkSizeRangesSuffixes(),this.checkOrConvertNumber(this.settings,"rowHeight"),this.checkOrConvertNumber(this.settings,"margins"),this.checkOrConvertNumber(this.settings,"border");var t=["justify","nojustify","left","center","right","hide"];if(-1===t.indexOf(this.settings.lastRow))throw"lastRow must be one of: "+t.join(", ");if(this.checkOrConvertNumber(this.settings,"justifyThreshold"),this.settings.justifyThreshold<0||1<this.settings.justifyThreshold)throw"justifyThreshold must be in the interval [0,1]";if("boolean"!==h.type(this.settings.cssAnimation))throw"cssAnimation must be a boolean";if("boolean"!==h.type(this.settings.captions))throw"captions must be a boolean";if(this.checkOrConvertNumber(this.settings.captionSettings,"animationDuration"),this.checkOrConvertNumber(this.settings.captionSettings,"visibleOpacity"),this.settings.captionSettings.visibleOpacity<0||1<this.settings.captionSettings.visibleOpacity)throw"captionSettings.visibleOpacity must be in the interval [0, 1]";if(this.checkOrConvertNumber(this.settings.captionSettings,"nonVisibleOpacity"),this.settings.captionSettings.nonVisibleOpacity<0||1<this.settings.captionSettings.nonVisibleOpacity)throw"captionSettings.nonVisibleOpacity must be in the interval [0, 1]";if("boolean"!==h.type(this.settings.fixedHeight))throw"fixedHeight must be a boolean";if(this.checkOrConvertNumber(this.settings,"imagesAnimationDuration"),this.checkOrConvertNumber(this.settings,"refreshTime"),this.checkOrConvertNumber(this.settings,"refreshSensitivity"),"boolean"!==h.type(this.settings.randomize))throw"randomize must be a boolean";if("string"!==h.type(this.settings.selector))throw"selector must be a string";if(!1!==this.settings.sort&&!h.isFunction(this.settings.sort))throw"sort must be false or a comparison function";if(!1!==this.settings.filter&&!h.isFunction(this.settings.filter)&&"string"!==h.type(this.settings.filter))throw"filter must be false, a string or a filter function"},r.prototype.retrieveSuffixRanges=function(){var t,e=[];for(t in this.settings.sizeRangeSuffixes)this.settings.sizeRangeSuffixes.hasOwnProperty(t)&&e.push(parseInt(t,10));return e.sort(function(t,e){return e<t?1:t<e?-1:0}),e},r.prototype.updateSettings=function(t){this.settings=h.extend({},this.settings,t),this.checkSettings(),this.border=0<=this.settings.border?this.settings.border:this.settings.margins,this.maxRowHeight=this.retrieveMaxRowHeight(),this.suffixRanges=this.retrieveSuffixRanges()},h.fn.justifiedGallery=function(n){return this.each(function(t,e){var e=h(e),i=(e.addClass("envira-justified-gallery"),e.data("jg.controller"));if(void 0===i){if(null!=n&&"object"!==h.type(n)){if("destroy"===n)return;throw"The argument must be an object"}i=new r(e,h.extend({},h.fn.justifiedGallery.defaults,n)),e.data("jg.controller",i)}else if("norewind"!==n){if("destroy"===n)return void i.destroy();i.updateSettings(n),i.rewind()}i.updateEntries("norewind"===n)&&i.init()})},h.fn.justifiedGallery.defaults={sizeRangeSuffixes:{},thumbnailPath:void 0,rowHeight:120,maxRowHeight:-1,margins:1,border:-1,lastRow:"nojustify",justifyThreshold:.9,fixedHeight:!1,waitThumbnailsLoad:!0,captions:!0,cssAnimation:!1,imagesAnimationDuration:500,captionSettings:{animationDuration:500,visibleOpacity:.7,nonVisibleOpacity:0},rel:null,target:null,extension:/\.[^.\\/] + $ /,refreshTime:100,refreshSensitivity:0,randomize:!1,sort:!1,filter:!1,selector:"> a, > div:not(.spinner)"}},477:(t,e,i)=>{var n;window,n=function(e,i){"use strict";function n(t){(this.isotope=t)&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}var o=n.prototype;return["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"].forEach(function(t){o[t]=function(){return i.prototype[t].apply(this.isotope,arguments)}}),o.needsVerticalResizeLayout=function(){var t=e(this.isotope.element);return this.isotope.size&&t&&t.innerHeight!=this.isotope.size.innerHeight},o._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},o.getColumnWidth=function(){this.getSegmentSize("column","Width")},o.getRowHeight=function(){this.getSegmentSize("row","Height")},o.getSegmentSize=function(t,e){var i,t=t+e,n="outer"+e;this._getMeasurement(t,n),this[t]||(i=this.getFirstItemSize(),this[t]=i&&i[n]||this.isotope.size["inner"+e])},o.getFirstItemSize=function(){var t=this.isotope.filteredItems[0];return t&&t.element&&e(t.element)},o.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},o.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},n.modes={},n.create=function(t,e){function i(){n.apply(this,arguments)}return(i.prototype=Object.create(o)).constructor=i,e&&(i.options=e),n.modes[i.prototype.namespace=t]=i},n},i=[i(131),i(794)],void 0!==(e="function"==typeof(n=n)?n.apply(e,i):n)&&(t.exports=e)},620:(t,e,i)=>{var n;window,n=function(t){"use strict";var t=t.create("fitRows"),e=t.prototype;return e._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},e._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter,i=(0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY),{x:this.x,y:this.y});return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,i},e._getContainerSize=function(){return{height:this.maxY}},t},i=[i(477)],void 0!==(e="function"==typeof(n=n)?n.apply(e,i):n)&&(t.exports=e)},245:(t,e,i)=>{var n;window,n=function(t,e){"use strict";var i,t=t.create("masonry"),n=t.prototype,o={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(i in e.prototype)o[i]||(n[i]=e.prototype[i]);var r=n.measureColumns,s=(n.measureColumns=function(){this.items=this.isotope.filteredItems,r.call(this)},n._getOption);return n._getOption=function(t){return"fitWidth"==t?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:s.apply(this.isotope,arguments)},t},i=[i(477),i(751)],void 0!==(e="function"==typeof(n=n)?n.apply(e,i):n)&&(t.exports=e)},175:(t,e,i)=>{var n;window,n=function(t){"use strict";var t=t.create("vertical",{horizontalAlignment:0}),e=t.prototype;return e._resetLayout=function(){this.y=0},e._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},e._getContainerSize=function(){return{height:this.y}},t},i=[i(477)],void 0!==(e="function"==typeof(n=n)?n.apply(e,i):n)&&(t.exports=e)},613:(t,e,i)=>{var n;i=[i(311)],void 0!==(e="function"==typeof(n=function(u){var t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],p=Array.prototype.slice,g,f;if(u.event.fixHooks)for(var e=t.length;e;)u.event.fixHooks[t[--e]]=u.event.mouseHooks;var v=u.event.special.mousewheel={version:"3.1.12",setup:function t(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],n,false);else this.onmousewheel=n;u.data(this,"mousewheel-line-height",v.getLineHeight(this));u.data(this,"mousewheel-page-height",v.getPageHeight(this))},teardown:function t(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],n,false);else this.onmousewheel=null;u.removeData(this,"mousewheel-line-height");u.removeData(this,"mousewheel-page-height")},getLineHeight:function t(e){var i=u(e),n=i["offsetParent"in u.fn?"offsetParent":"parent"]();if(!n.length)n=u("body");return parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function t(e){return u(e).height()},settings:{adjustOldDeltas:true,normalizeOffset:true}};function n(t){var e=t||window.event,i=p.call(arguments,1),n=0,o=0,r=0,s=0,a=0,l=0;t=u.event.fix(e);t.type="mousewheel";if("detail"in e)r=e.detail*-1;if("wheelDelta"in e)r=e.wheelDelta;if("wheelDeltaY"in e)r=e.wheelDeltaY;if("wheelDeltaX"in e)o=e.wheelDeltaX*-1;if("axis"in e&&e.axis===e.HORIZONTAL_AXIS){o=r*-1;r=0}n=r===0?o:r;if("deltaY"in e){r=e.deltaY*-1;n=r}if("deltaX"in e){o=e.deltaX;if(r===0)n=o*-1}if(r===0&&o===0)return;if(e.deltaMode===1){var c=u.data(this,"mousewheel-line-height");n*=c;r*=c;o*=c}else if(e.deltaMode===2){var h=u.data(this,"mousewheel-page-height");n*=h;r*=h;o*=h}s=Math.max(Math.abs(r),Math.abs(o));if(!f||s<f){f=s;if(b(e,s))f/=40}if(b(e,s)){n/=40;o/=40;r/=40}n=Math[n>=1?"floor":"ceil"](n/f);o=Math[o>=1?"floor":"ceil"](o/f);r=Math[r>=1?"floor":"ceil"](r/f);if(v.settings.normalizeOffset&&this.getBoundingClientRect){var d=this.getBoundingClientRect();a=t.clientX-d.left;l=t.clientY-d.top}t.deltaX=o;t.deltaY=r;t.deltaFactor=f;t.offsetX=a;t.offsetY=l;t.deltaMode=0;i.unshift(t,n,o,r);if(g)clearTimeout(g);g=setTimeout(m,200);return(u.event.dispatch||u.event.handle).apply(this,i)}function m(){f=null}function b(t,e){return v.settings.adjustOldDeltas&&t.type==="mousewheel"&&e%120===0}u.fn.extend({mousewheel:function t(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function t(e){return this.unbind("mousewheel",e)}})})?n.apply(e,i):n)&&(t.exports=e)},362:()=>{Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),i=e.length,n=new Array(i);i--;)n[i]=[e[i],t[e[i]]];return n})},741:(t,e,i)=>{var n;!function(){"use strict";void 0!==(n="function"==typeof(n=function(){"use strict";var n=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";var e=["webkit","moz","ms","o"];for(var i=0;i<e.length;i++){var n=e[i];var o=n+"MatchesSelector";if(t[o])return o}}();return function t(e,i){return e[n](i)}})?n.call(e,i,e,t):n)&&(t.exports=n)}(window)},158:function(t,e,i){var n;void 0!==(i="function"==typeof(n=function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(!t||!e)return;var i=this._events=this._events||{};var n=i[t]=i[t]||[];if(n.indexOf(e)==-1)n.push(e);return this},e.once=function(t,e){if(!t||!e)return;this.on(t,e);var i=this._onceEvents=this._onceEvents||{};var n=i[t]=i[t]||{};n[e]=true;return this},e.off=function(t,e){var i=this._events&&this._events[t];if(!i||!i.length)return;var n=i.indexOf(e);if(n!=-1)i.splice(n,1);return this},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(!i||!i.length)return;i=i.slice(0);e=e||[];var n=this._onceEvents&&this._onceEvents[t];for(var o=0;o<i.length;o++){var r=i[o];var s=n&&n[r];if(s){this.off(t,r);delete n[r]}r.apply(this,e)}return this},e.allOff=function(){delete this._events;delete this._onceEvents},t})?n.call(e,i,e,t):n)&&(t.exports=i)},131:t=>{var e,i;e=window,i=function(){function h(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}let d=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];d.length;return function(t){if((t="string"==typeof t?document.querySelector(t):t)&&"object"==typeof t&&t.nodeType){let n=getComputedStyle(t);if("none"==n.display){let e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};return d.forEach(t=>{e[t]=0}),e}{let i={};i.width=t.offsetWidth,i.height=t.offsetHeight;var t=i.isBorderBox="border-box"==n.boxSizing,e=(d.forEach(t=>{var e=n[t],e=parseFloat(e);i[t]=isNaN(e)?0:e}),i.paddingLeft+i.paddingRight),o=i.paddingTop+i.paddingBottom,r=i.marginLeft+i.marginRight,s=i.marginTop+i.marginBottom,a=i.borderLeftWidth+i.borderRightWidth,l=i.borderTopWidth+i.borderBottomWidth,c=h(n.width),c=(!1!==c&&(i.width=c+(t?0:e+a)),h(n.height));return!1!==c&&(i.height=c+(t?0:o+l)),i.innerWidth=i.width-(e+a),i.innerHeight=i.height-(o+l),i.outerWidth=i.width+r,i.outerHeight=i.height+s,i}}}},t.exports?t.exports=i():e.getSize=i()},751:(t,e,i)=>{var n;window,n=function(t,a){"use strict";var t=t.create("masonry"),e=(t.compatOptions.fitWidth="isFitWidth",t.prototype);return e._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},e.measureColumns=function(){this.getContainerWidth(),this.columnWidth||(t=(t=this.items[0])&&t.element,this.columnWidth=t&&a(t).outerWidth||this.containerWidth);var t=this.columnWidth+=this.gutter,e=this.containerWidth+this.gutter,i=e/t,e=t-e%t,i=Math[e&&e<1?"round":"floor"](i);this.cols=Math.max(i,1)},e.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,t=a(t);this.containerWidth=t&&t.innerWidth},e._getItemLayoutPosition=function(t){t.getSize();for(var e=t.size.outerWidth%this.columnWidth,e=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth),e=Math.min(e,this.cols),i=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](e,t),n={x:this.columnWidth*i.col,y:i.y},o=i.y+t.size.outerHeight,r=e+i.col,s=i.col;s<r;s++)this.colYs[s]=o;return n},e._getTopColPosition=function(t){var t=this._getTopColGroup(t),e=Math.min.apply(Math,t);return{col:t.indexOf(e),y:e}},e._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;n<i;n++)e[n]=this._getColGroupY(n,t);return e},e._getColGroupY=function(t,e){if(e<2)return this.colYs[t];t=this.colYs.slice(t,t+e);return Math.max.apply(Math,t)},e._getHorizontalColPosition=function(t,e){var i=this.horizontalColIndex%this.cols,i=1<t&&i+t>this.cols?0:i,e=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=e?i+t:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,t)}},e._manageStamp=function(t){var e=a(t),t=this._getElementOffset(t),i=this._getOption("originLeft")?t.left:t.right,n=i+e.outerWidth,i=Math.floor(i/this.columnWidth),i=Math.max(0,i),o=Math.floor(n/this.columnWidth);o-=n%this.columnWidth?0:1;for(var o=Math.min(this.cols-1,o),r=(this._getOption("originTop")?t.top:t.bottom)+e.outerHeight,s=i;s<=o;s++)this.colYs[s]=Math.max(r,this.colYs[s])},e._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},e._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},e.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},t},i=[i(794),i(291)],void 0!==(e="function"==typeof(n=n)?n.apply(e,i):n)&&(t.exports=e)},291:(t,e,i)=>{var n;window,void 0!==(i="function"==typeof(n=function(){"use strict";function m(t){var e=parseFloat(t);var i=t.indexOf("%")==-1&&!isNaN(e);return i&&e}function t(){}var i=typeof console=="undefined"?t:function(t){console.error(t)};var b=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];var y=b.length;function x(){var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var e=0;e<y;e++){var i=b[e];t[i]=0}return t}function _(t){var e=getComputedStyle(t);if(!e)i("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? "+"See https://bit.ly/getsizebug1");return e}var n=false;var w;function S(){if(n)return;n=true;var t=document.createElement("div");t.style.width="200px";t.style.padding="1px 2px 3px 4px";t.style.borderStyle="solid";t.style.borderWidth="1px 2px 3px 4px";t.style.boxSizing="border-box";var e=document.body||document.documentElement;e.appendChild(t);var i=_(t);w=Math.round(m(i.width))==200;o.isBoxSizeOuter=w;e.removeChild(t)}function o(t){S();if(typeof t=="string")t=document.querySelector(t);if(!t||typeof t!="object"||!t.nodeType)return;var e=_(t);if(e.display=="none")return x();var i={};i.width=t.offsetWidth;i.height=t.offsetHeight;var n=i.isBorderBox=e.boxSizing=="border-box";for(var o=0;o<y;o++){var r=b[o];var s=e[r];var a=parseFloat(s);i[r]=!isNaN(a)?a:0}var l=i.paddingLeft+i.paddingRight;var c=i.paddingTop+i.paddingBottom;var h=i.marginLeft+i.marginRight;var d=i.marginTop+i.marginBottom;var u=i.borderLeftWidth+i.borderRightWidth;var p=i.borderTopWidth+i.borderBottomWidth;var g=n&&w;var f=m(e.width);if(f!==false)i.width=f+(g?0:l+u);var v=m(e.height);if(v!==false)i.height=v+(g?0:c+p);i.innerWidth=i.width-(l+u);i.innerHeight=i.height-(c+p);i.outerWidth=i.width+h;i.outerHeight=i.height+d;return i}return o})?n.call(e,i,e,t):n)&&(t.exports=i)},652:(t,e,i)=>{var n;window,n=function(t,e){"use strict";var i=document.documentElement.style,n="string"==typeof i.transition?"transition":"WebkitTransition",i="string"==typeof i.transform?"transform":"WebkitTransform",o={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[n],r={transform:i,transition:n,transitionDuration:n+"Duration",transitionProperty:n+"Property",transitionDelay:n+"Delay"};function s(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}t=s.prototype=Object.create(t.prototype);t.constructor=s,t._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},t.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},t.getSize=function(){this.size=e(this.element)},t.css=function(t){var e,i=this.element.style;for(e in t)i[r[e]||e]=t[e]},t.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],t=t[i?"top":"bottom"],o=parseFloat(n),r=parseFloat(t),s=this.layout.size;-1!=n.indexOf("%")&&(o=o/100*s.width),-1!=t.indexOf("%")&&(r=r/100*s.height),o=isNaN(o)?0:o,r=isNaN(r)?0:r,o-=e?s.paddingLeft:s.paddingRight,r-=i?s.paddingTop:s.paddingBottom,this.position.x=o,this.position.y=r},t.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"right":"left",r=this.position.x+t[i?"paddingLeft":"paddingRight"],i=(e[i?"left":"right"]=this.getXValue(r),e[o]="",n?"paddingTop":"paddingBottom"),r=n?"bottom":"top",o=this.position.y+t[i];e[n?"top":"bottom"]=this.getYValue(o),e[r]="",this.css(e),this.emitEvent("layout",[this])},t.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},t.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},t._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=t==this.position.x&&e==this.position.y;this.setPosition(t,e),o&&!this.isTransitioning?this.layoutPosition():((o={}).transform=this.getTranslate(t-i,e-n),this.transition({to:o,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0}))},t.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},t.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},t.moveTo=t._transitionTo,t.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},t._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},t.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e,i=this._transn;for(e in t.onTransitionEnd)i.onEnd[e]=t.onTransitionEnd[e];for(e in t.to)i.ingProperties[e]=!0,t.isCleaning&&(i.clean[e]=!0);t.from&&(this.css(t.from),this.element.offsetHeight,0),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var a="opacity,"+i.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()}),l=(t.enableTransition=function(){var t;this.isTransitioning||(t="number"==typeof(t=this.layout.options.transitionDuration)?t+"ms":t,this.css({transitionProperty:a,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(o,this,!1))},t.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},t.onotransitionend=function(t){this.ontransitionend(t)},{"-webkit-transform":"transform"}),c=(t.ontransitionend=function(t){var e,i;t.target===this.element&&(e=this._transn,i=l[t.propertyName]||t.propertyName,delete e.ingProperties[i],function(t){for(var e in t)return;return 1}(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd&&(e.onEnd[i].call(this),delete e.onEnd[i]),this.emitEvent("transitionEnd",[this]))},t.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(o,this,!1),this.isTransitioning=!1},t._removeStyles=function(t){var e,i={};for(e in t)i[e]="";this.css(i)},{transitionProperty:"",transitionDuration:"",transitionDelay:""});return t.removeTransitionStyles=function(){this.css(c)},t.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},t.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},t.remove=function(){n&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},t.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},t.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},t.getHideRevealTransitionEndProperty=function(t){var e,t=this.layout.options[t];if(t.opacity)return"opacity";for(e in t)return e},t.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},t.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},t.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},s},i=[i(158),i(69)],void 0!==(e="function"==typeof(n=n)?n.apply(e,i):n)&&(t.exports=e)},95:(t,e,i)=>{var n,o;n=window,o=function(i,r){"use strict";var l={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},e=Array.prototype.slice,c=(l.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?e.call(t):[t]},l.removeFrom=function(t,e){e=t.indexOf(e);-1!=e&&t.splice(e,1)},l.getParent=function(t,e){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,r(t,e))return t},l.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},l.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.filterFindElements=function(t,n){t=l.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement)if(n){r(t,n)&&o.push(t);for(var e=t.querySelectorAll(n),i=0;i<e.length;i++)o.push(e[i])}else o.push(t)}),o},l.debounceMethod=function(t,e,n){n=n||100;var o=t.prototype[e],r=e+"Timeout";t.prototype[e]=function(){var t=this[r],e=(clearTimeout(t),arguments),i=this;this[r]=setTimeout(function(){o.apply(i,e),delete i[r]},n)}},l.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},l.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()},i.console);return l.htmlInit=function(s,a){l.docReady(function(){var t=l.toDashed(a),n="data-"+t,e=document.querySelectorAll("["+n+"]"),t=document.querySelectorAll(".js-"+t),e=l.makeArray(e).concat(l.makeArray(t)),o=n+"-options",r=i.jQuery;e.forEach(function(e){var t,i=e.getAttribute(n)||e.getAttribute(o);try{t=i&&JSON.parse(i)}catch(t){return void(c&&c.error("Error parsing "+n+" on "+e.className+": "+t))}i=new s(e,t);r&&r.data(e,a,i)})})},l},i=[i(741)],void 0!==(e=function(t){return o(n,t)}.apply(e,i))&&(t.exports=e)},69:(t,e,i)=>{var n;window,void 0!==(i="function"==typeof(n=function(){"use strict";function m(t){var e=parseFloat(t);var i=t.indexOf("%")==-1&&!isNaN(e);return i&&e}function t(){}var i=typeof console=="undefined"?t:function(t){console.error(t)};var b=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];var y=b.length;function x(){var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var e=0;e<y;e++){var i=b[e];t[i]=0}return t}function _(t){var e=getComputedStyle(t);if(!e)i("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? "+"See https://bit.ly/getsizebug1");return e}var n=false;var w;function S(){if(n)return;n=true;var t=document.createElement("div");t.style.width="200px";t.style.padding="1px 2px 3px 4px";t.style.borderStyle="solid";t.style.borderWidth="1px 2px 3px 4px";t.style.boxSizing="border-box";var e=document.body||document.documentElement;e.appendChild(t);var i=_(t);w=Math.round(m(i.width))==200;o.isBoxSizeOuter=w;e.removeChild(t)}function o(t){S();if(typeof t=="string")t=document.querySelector(t);if(!t||typeof t!="object"||!t.nodeType)return;var e=_(t);if(e.display=="none")return x();var i={};i.width=t.offsetWidth;i.height=t.offsetHeight;var n=i.isBorderBox=e.boxSizing=="border-box";for(var o=0;o<y;o++){var r=b[o];var s=e[r];var a=parseFloat(s);i[r]=!isNaN(a)?a:0}var l=i.paddingLeft+i.paddingRight;var c=i.paddingTop+i.paddingBottom;var h=i.marginLeft+i.marginRight;var d=i.marginTop+i.marginBottom;var u=i.borderLeftWidth+i.borderRightWidth;var p=i.borderTopWidth+i.borderBottomWidth;var g=n&&w;var f=m(e.width);if(f!==false)i.width=f+(g?0:l+u);var v=m(e.height);if(v!==false)i.height=v+(g?0:c+p);i.innerWidth=i.width-(l+u);i.innerHeight=i.height-(c+p);i.outerWidth=i.width+h;i.outerHeight=i.height+d;return i}return o})?n.call(e,i,e,t):n)&&(t.exports=i)},794:(t,e,i)=>{var n;!function(o,r){"use strict";n=[i(158),i(69),i(95),i(652)],void 0!==(n=function(t,e,i,n){return r(o,t,e,i,n)}.apply(e,n))&&(t.exports=n)}(window,function(t,e,o,n,r){"use strict";function i(){}var s=t.console,a=t.jQuery,l=0,c={};function h(t,e){var i=n.getQueryElement(t);i?(this.element=i,a&&(this.$element=a(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e),e=++l,this.element.outlayerGUID=e,(c[e]=this)._create(),this._getOption("initLayout")&&this.layout()):s&&s.error("Bad element for "+this.constructor.namespace+": "+(i||t))}h.namespace="outlayer",h.Item=r,h.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var d=h.prototype;function u(t){function e(){t.apply(this,arguments)}return(e.prototype=Object.create(t.prototype)).constructor=e}n.extend(d,e.prototype),d.option=function(t){n.extend(this.options,t)},d._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},h.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},d._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},d.reloadItems=function(){this.items=this._itemize(this.element.children)},d._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var r=new i(e[o],this);n.push(r)}return n},d._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},d.getItemElements=function(){return this.items.map(function(t){return t.element})},d.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),t=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},d._init=d.layout,d._resetLayout=function(){this.getSize()},d.getSize=function(){this.size=o(this.element)},d._getMeasurement=function(t,e){var i,n=this.options[t];n?("string"==typeof n?i=this.element.querySelector(n):n instanceof HTMLElement&&(i=n),this[t]=i?o(i)[e]:n):this[t]=0},d.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},d._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},d._layoutItems=function(t,i){var n;this._emitCompleteOnItems("layout",t),t&&t.length&&(n=[],t.forEach(function(t){var e=this._getItemLayoutPosition(t);e.item=t,e.isInstant=i||t.isLayoutInstant,n.push(e)},this),this._processLayoutQueue(n))},d._getItemLayoutPosition=function(){return{x:0,y:0}},d._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},d.updateStagger=function(){var t=this.options.stagger;if(null!=t)return this.stagger=function(t){if("number"==typeof t)return t;var t=t.match(/(^\d*\.?\d*)(\w*)/),e=t&&t[1],t=t&&t[2];if(!e.length)return 0;e=parseFloat(e);t=p[t]||1;return e*t}(t),this.stagger;this.stagger=0},d._positionItem=function(t,e,i,n,o){n?t.goTo(e,i):(t.stagger(o*this.stagger),t.moveTo(e,i))},d._postLayout=function(){this.resizeContainer()},d.resizeContainer=function(){var t;!this._getOption("resizeContainer")||(t=this._getContainerSize())&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))},d._getContainerSize=i,d._setContainerMeasure=function(t,e){var i;void 0!==t&&((i=this.size).isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px")},d._emitCompleteOnItems=function(e,t){var i=this;function n(){i.dispatchEvent(e+"Complete",null,[t])}var o,r=t.length;function s(){++o==r&&n()}t&&r?(o=0,t.forEach(function(t){t.once(e,s)})):n()},d.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;this.emitEvent(t,n),a&&(this.$element=this.$element||a(this.element),e?((n=a.Event(e)).type=t,this.$element.trigger(n,i)):this.$element.trigger(t,i))},d.ignore=function(t){t=this.getItem(t);t&&(t.isIgnored=!0)},d.unignore=function(t){t=this.getItem(t);t&&delete t.isIgnored},d.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},d.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},d._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)},d._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},d._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},d._manageStamp=i,d._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,t=o(t);return{left:e.left-i.left-t.marginLeft,top:e.top-i.top-t.marginTop,right:i.right-e.right-t.marginRight,bottom:i.bottom-e.bottom-t.marginBottom}},d.handleEvent=n.handleEvent,d.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},d.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},d.onresize=function(){this.resize()},n.debounceMethod(h,"onresize",100),d.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},d.needsResizeLayout=function(){var t=o(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},d.addItems=function(t){t=this._itemize(t);return t.length&&(this.items=this.items.concat(t)),t},d.appended=function(t){t=this.addItems(t);t.length&&(this.layoutItems(t,!0),this.reveal(t))},d.prepended=function(t){var e,t=this._itemize(t);t.length&&(e=this.items.slice(0),this.items=t.concat(e),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(e))},d.reveal=function(t){var i;this._emitCompleteOnItems("reveal",t),t&&t.length&&(i=this.updateStagger(),t.forEach(function(t,e){t.stagger(e*i),t.reveal()}))},d.hide=function(t){var i;this._emitCompleteOnItems("hide",t),t&&t.length&&(i=this.updateStagger(),t.forEach(function(t,e){t.stagger(e*i),t.hide()}))},d.revealItemElements=function(t){t=this.getItems(t);this.reveal(t)},d.hideItemElements=function(t){t=this.getItems(t);this.hide(t)},d.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},d.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){t=this.getItem(t);t&&e.push(t)},this),e},d.remove=function(t){t=this.getItems(t);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},d.destroy=function(){var t=this.element.style,t=(t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize(),this.element.outlayerGUID);delete c[t],delete this.element.outlayerGUID,a&&a.removeData(this.element,this.constructor.namespace)},h.data=function(t){t=(t=n.getQueryElement(t))&&t.outlayerGUID;return t&&c[t]},h.create=function(t,e){var i=u(h);return i.defaults=n.extend({},h.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},h.compatOptions),i.namespace=t,i.data=h.data,i.Item=u(r),n.htmlInit(i,t),a&&a.bridget&&a.bridget(t,i),i};var p={ms:1,s:1e3};return h.Item=r,h})},311:t=>{"use strict";t.exports=jQuery}},n={};function _(t){var e=n[t];if(void 0!==e)return e.exports;e=n[t]={exports:{}};return i[t].call(e.exports,e,e.exports,_),e.exports}_.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return _.d(e,{a:e}),e},_.d=(t,e)=>{for(var i in e)_.o(e,i)&&!_.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},_.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);(()=>{"use strict";_(362),_(613),_(59),_(556),_(204),_(968),_(962),_(390),_(827),_(746),_(850),_(655),_(75);var t=_(496),n=_.n(t),r=_(311),s={init:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document;t.querySelectorAll("a.envira-gallery-bnb-link").forEach(function(e){e.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();t=e.closest(".envira-layout-bnb--container");s.createOverlay(t)})}),t.querySelectorAll(".envira-layout-bnb--more-link").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var e=t.target,t=(e="BUTTON"!==e.tagName?t.target.parentElement:e).previousSibling;s.createOverlay(t)})})},createOverlay:function(t){var e,i,n,o;document.querySelector("#envira-gallery-bnb-overlay")||(t=t.dataset.uniqueId,t="envira-gallery-bnb-overlay-".concat(t),e=document.querySelector("#".concat(t)),i=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div"),i.id="envira-gallery-bnb-overlay",n.id="envira-gallery-bnb-overlay--container",n.innerHTML='<div class="envira-loader"><div></div><div></div><div></div><div></div></div>',o.id="envira-gallery-bnb-overlay-close-button",o.style.opacity=0,o.innerHTML='<button class="envira-close-button" aria-label="Close Overlay"><svg xmlns="http://www.w3.org/2000/svg" width="30px" height="30px" viewBox="0 0 768 768"><path d="M607.5 205.5L429 384l178.5 178.5-45 45L384 429 205.5 607.5l-45-45L339 384 160.5 205.5l45-45L384 339l178.5-178.5z"></path></svg></button>',i.appendChild(n),document.body.insertBefore(i,document.body.firstChild),document.body.scrollIntoView(),setTimeout(function(){i.style.marginTop=0,i.style.minHeight=document.body.scrollHeight+"px",n.innerHTML=e.innerHTML,e.innerHTML="",n.prepend(o),r(document).trigger("envira_load"),s.destroyOverlay(i,e)}),setTimeout(function(){o.style.opacity=null},333))},destroyOverlay:function(t,e){function i(){0===document.querySelectorAll(".envirabox-wrap").length&&(document.removeEventListener("keydown",n),t.style.marginTop="100vh",e.innerHTML=t.querySelector(".envira-gallery-wrap").outerHTML,t.querySelector("#envira-gallery-bnb-overlay-close-button").remove(),setTimeout(function(){t.remove()},333))}var n=function(t){"Escape"===t.key&&i()};document.addEventListener("keydown",n),document.querySelectorAll("#envira-gallery-bnb-overlay-close-button button").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),i()})})}};const o=s;var c=_(311);function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,o,r=[],s=!0,a=!1;try{for(i=i.call(t);!(s=(n=i.next()).done)&&(r.push(n.value),!e||r.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==i.return||i.return()}finally{if(a)throw o}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u,p,e,g,f,i,v,t=function(){function r(t,e,i,n){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");var o=this;o.data=e,o.images=i,o.id=t,o.envirabox_config=n,o.initImage=!1,o.log(o.id),o.init()}var t,e,i;return t=r,(e=[{key:"init",value:function(){var t,e=this,i=e.get_config("lazy_loading");switch(e.get_config("layout")){case"automatic":e.justified(),c(document).trigger("envira_gallery_api_justified",e.data),i&&(e.load_images(),c(document).on("envira_pagination_ajax_load_completed",function(){return c("#envira-gallery-"+e.id).on("jg.complete",function(t){t.preventDefault(),e.load_images()})}));break;case"bnb":o.init();break;case"mason":setTimeout(function(){e.enviratopes()},100),i&&(e.load_images(),e.enviratopes(),c(window).scroll(function(t){e.enviratopes()}));break;default:i&&e.load_images()}(e.get_config("lightbox_enabled")||e.get_config("lightbox"))&&e.lightbox(),null!=(t=e.get_config("tags"))&&t&&"undefined"!=typeof EnviraTags&&EnviraTags.init(),c(document).trigger("envira_gallery_api_init",e)}},{key:"load_images",value:function(){n().run("#envira-gallery-"+this.id)}},{key:"justified",value:function(){c("#envira-gallery-"+this.id).enviraJustifiedGallery({rowHeight:this.is_mobile()?this.get_config("mobile_justified_row_height"):this.get_config("justified_row_height"),maxRowHeight:-1,waitThumbnailsLoad:!0,selector:"> div > div",lastRow:this.get_config("justified_last_row"),border:0,margins:this.get_config("justified_margins")}),c(document).trigger("envira_gallery_api_start_justified",this),c("#envira-gallery-"+this.id).css("opacity","1")}},{key:"justified_norewind",value:function(){c("#envira-gallery-"+self.id).enviraJustifiedGallery("norewind")}},{key:"enviratopes",value:function(){var t=this;c(document).trigger("envira_gallery_api_enviratope_config",[t]),c("#envira-gallery-"+t.id).enviratope({itemSelector:".envira-gallery-item",masonry:{columnWidth:".envira-gallery-item"}}),c("#envira-gallery-"+t.id).enviraImagesLoaded().always(function(){c("#envira-gallery-"+t.id).enviratope("layout")}),c(document).trigger("envira_gallery_api_enviratope",[t])}},{key:"lightbox",value:function(){var s=this,t=s.get_config("mobile_touchwipe_close")?{vertical:!0,momentum:!0}:{vertical:!1,momentum:!1},e=!s.get_config("thumbnails_hide")||s.get_config("thumbnails_hide"),i=s.is_mobile()?this.get_config("mobile_thumbnails_height"):this.get_config("thumbnails_height"),e=!!s.get_config("thumbnails")&&{autoStart:e,hideOnClose:!0,position:s.get_lightbox_config("thumbs_position"),rowHeight:"side"!==s.get_lightbox_config("thumbs_position")&&i},i=!!s.get_config("slideshow")&&{autoStart:s.get_config("autoplay"),speed:s.get_config("ss_speed")},n=!s.get_config("fullscreen")||!s.get_config("open_fullscreen")||{autoStart:!0},o="zomm-in-out"===s.get_config("lightbox_open_close_effect")?"zoom-in-out":s.get_config("lightbox_open_close_effect"),r="zomm-in-out"===s.get_config("effect")?"zoom":s.get_config("effect"),a=[],l="";if(s.lightbox_options={selector:'[data-envirabox="'+s.id+'"]',loop:s.get_config("loop"),margin:s.get_lightbox_config("margins"),gutter:s.get_lightbox_config("gutter"),keyboard:s.get_config("keyboard"),arrows:s.get_lightbox_config("arrows"),arrow_position:s.get_lightbox_config("arrow_position"),infobar:s.get_lightbox_config("infobar"),toolbar:s.get_lightbox_config("toolbar"),idleTime:!!s.get_lightbox_config("idle_time")&&s.get_lightbox_config("idle_time"),smallBtn:s.get_lightbox_config("show_smallbtn"),protect:!1,image:{preload:!1},animationEffect:o,animationDuration:s.get_lightbox_config("animation_duration")?s.get_lightbox_config("animation_duration"):300,btnTpl:{smallBtn:s.get_lightbox_config("small_btn_template")},zoomOpacity:"auto",transitionEffect:r,transitionDuration:s.get_lightbox_config("transition_duration")?s.get_lightbox_config("transition_duration"):200,baseTpl:s.get_lightbox_config("base_template"),spinnerTpl:'<div class="envirabox-loading"></div>',errorTpl:s.get_lightbox_config("error_template"),fullScreen:!!s.get_config("fullscreen")&&n,touch:t,hash:!1,insideCap:s.get_lightbox_config("inner_caption"),capPosition:s.get_lightbox_config("caption_position"),capTitleShow:!(!s.get_config("lightbox_title_caption")||"none"===s.get_config("lightbox_title_caption")||"0"===s.get_config("lightbox_title_caption")||!1!==["classical_dark","classical_light","infinity_dark","infinity_light"].includes(s.get_config("lightbox_theme")))&&s.get_config("lightbox_title_caption"),media:{youtube:{params:{autoplay:0}}},wheel:!1!==this.get_config("mousewheel"),slideShow:i,thumbs:e,lightbox_theme:s.get_config("lightbox_theme"),mobile:{clickContent:function(t,e){return s.get_lightbox_config("click_content")?s.get_lightbox_config("click_content"):"toggleControls"},clickSlide:function(t,e){return s.get_lightbox_config("click_slide")?s.get_lightbox_config("click_slide"):"close"},dblclickContent:!1,dblclickSlide:!1},clickContent:function(t,e){return!("image"!==t.type||"undefined"!==s.get_config("disable_zoom")&&"1"===s.get_config("disable_zoom")||"1"===s.get_config("zoom_hover")&&"undefined"!=typeof envira_zoom&&void 0!==envira_zoom.enviraZoomActive)&&"zoom"},clickSlide:s.get_lightbox_config("click_slide")?s.get_lightbox_config("click_slide"):"close",clickOutside:s.get_lightbox_config("click_outside")?s.get_lightbox_config("click_outside"):"toggleControls",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,videoPlayPause:!!s.get_config("videos_playpause"),videoProgressBar:!!s.get_config("videos_progress"),videoPlaybackTime:!!s.get_config("videos_current"),videoVideoLength:!!s.get_config("videos_duration"),videoVolumeControls:!!s.get_config("videos_volume"),videoControlBar:!!s.get_config("videos_controls"),videoFullscreen:!!s.get_config("videos_fullscreen"),videoDownload:!!s.get_config("videos_download"),videoPlayIcon:!!s.get_config("videos_play_icon_thumbnails"),videoAutoPlay:!!s.get_config("videos_autoplay"),onInit:function(t,e){s.initImage=!0,c(document).trigger("envirabox_api_on_init",[s,t,e])},beforeLoad:function(t,e){c(document).trigger("envirabox_api_before_load",[s,t,e])},afterLoad:function(t,e){c(document).trigger("envirabox_api_after_load",[s,t,e])},beforeShow:function(t,e){"base"===s.data.lightbox_theme&&""===l&&0<c(".envirabox-position-overlay").length&&(l=c(".envirabox-position-overlay")),s.initImage=!1,0===s.get_config("loop")&&0===t.currIndex?c(".envirabox-slide--current a.envirabox-prev").hide():c(".envirabox-slide--current a.envirabox-prev").show(),0===s.get_config("loop")&&t.currIndex===Object.keys(t.group).length-1?c(".envirabox-slide--current a.envirabox-next").hide():c(".envirabox-slide--current a.envirabox-next").show(),c(document).trigger("envirabox_api_before_show",[s,t,e])},afterShow:function(t,e){var i,n;c(".envirabox-thumbs ul").find("li").removeClass("focused"),c(".envirabox-thumbs ul").find("li.envirabox-thumbs-active").focus().addClass("focused"),void 0!==i&&void 0!==n||(n=i=!1),!0!==i&&(c(".envirabox-position-overlay").each(function(){c(this).prependTo(e.$content)}),i=!0),0===s.get_config("loop")&&0===t.currIndex?c(".envirabox-outer a.envirabox-prev").hide():c(".envirabox-outer a.envirabox-prev").show(),0===s.get_config("loop")&&t.currIndex===Object.keys(t.group).length-1?c(".envirabox-outer a.envirabox-next").hide():c(".envirabox-outer a.envirabox-next").show(),void 0!==s.get_config("keyboard")&&0===s.get_config("keyboard")&&c(window).keypress(function(t){-1<[32,37,38,39,40].indexOf(t.keyCode)&&t.preventDefault()}),c(".envirabox-slide--current .envirabox-title").css("visibility","visible"),0<c(".envirabox-slide--current .envirabox-caption").length&&0<c(".envirabox-slide--current .envirabox-caption").html().length?(c(".envirabox-slide--current .envirabox-caption").css("visibility","visible"),c(".envirabox-slide--current .envirabox-caption-wrap").css("visibility","visible")):(c(".envirabox-slide--current .envirabox-caption").css("visibility","hidden"),c(".envirabox-slide--current .envirabox-caption-wrap").css("visibility","hidden")),c(".envirabox-navigation").show(),c(".envirabox-navigation-inside").show(),void 0!==l&&""!==l&&0<c(".envirabox-slide--current .envirabox-image-wrap").length?c(".envirabox-image-wrap").prepend(l):void 0!==l&&""!==l&&0<c(".envirabox-slide--current .envirabox-content").length&&c(".envirabox-content").prepend(l),c(document).trigger("envirabox_api_after_show",[s,t,e]),void 0===t.opts.capTitleShow||"caption"!==t.opts.capTitleShow&&"title_caption"!==t.opts.capTitleShow||""!==e.caption?c(".envirabox-caption-wrap .envirabox-caption").css("visibility","visible"):c(".envirabox-caption-wrap .envirabox-caption").css("visibility","hidden")},beforeClose:function(t,e){c(document).trigger("envirabox_api_before_close",[s,t,e])},afterClose:function(t,e){c(document).trigger("envirabox_api_after_close",[s,t,e])},onActivate:function(t,e){c(document).trigger("envirabox_api_on_activate",[s,t,e])},onDeactivate:function(t,e){c(document).trigger("envirabox_api_on_deactivate",[s,t,e])}},s.is_mobile()&&1!==s.get_config("mobile_thumbnails")&&(s.lightbox_options.thumbs=!1),s.get_lightbox_config("load_all")){o=s.images;if("object"!==d(o))return;c.each(o,function(t){void 0!==this.video&&void 0!==this.video.embed_url&&(this.src=this.video.embed_url),a.push(this)})}else{r=c(".envira-gallery-"+s.id);c.each(r,function(t){a.push(this)})}c("#envira-gallery-wrap-"+s.id+" .envira-gallery-link").on("click",function(t){var i=this,n=(t.preventDefault(),t.stopImmediatePropagation(),c(this).find("img").data("envira-index")),o=c(this).find("img").attr("src"),r=!1;(1===parseInt(s.get_config("pagination"))&&0===parseInt(n)||"1"===s.get_config("sort_order"))&&(Object.entries(a).forEach(function(t){var t=h(t,2),e=t[0],t=t[1];c(t).prop("data-envira-item-src")!==o&&c(t).find("img").prop("src")!==o||(n=e,r=!0)}),!0!==r&&Object.entries(a).forEach(function(t){var t=h(t,2),e=t[0],t=t[1];t!==c(i).attr("href")&&t.src!==c(i).find("img").data("envira-item-src")||(n=e,r=!0)})),c.envirabox.open(a,s.lightbox_options,n)}),c(document).trigger("envirabox_lightbox_api",s)}},{key:"get_config",value:function(t){return this.data[t]}},{key:"get_lightbox_config",value:function(t){return this.envirabox_config[t]}},{key:"get_image",value:function(t){return this.images[t]}},{key:"is_mobile",value:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},{key:"log",value:function(t){void 0!==envira_gallery.debug&&envira_gallery.debug&&void 0!==t&&console.trace(t)}}])&&l(t.prototype,e),i&&l(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}(),m=_(617),m=_.n(m),b=_(311),y=window.envira_galleries||{},x=window.envira_links||{};u=b,p=window,e=document,g=t,f=m(),i=envira_gallery,v=y,u(function(){p.envira_galleries=v,p.envira_links=x,u(e).on("envira_load",function(t){t.stopPropagation(),v={},x={};var o=[];u(".envira-gallery-public").each(function(){var t=u(this),e=(t.data("envira-id"),t.data("gallery-config")),i=t.data("gallery-images"),t=t.data("lightbox-theme"),n="";void 0!==o[e.gallery_id]?(n="_"+(o[e.gallery_id]?parseInt(o[e.gallery_id])+1:2),o[e.gallery_id]=parseInt(o[e.gallery_id])+1):o[e.gallery_id]=1,v[e.gallery_id]=new g(e.gallery_id+n,e,i,t),(u("#envira-gallery-wrap-"+e.gallery_id+n+".envira-lazy-loading-disabled").length?u("#envira-gallery-wrap-"+e.gallery_id+n+".envira-lazy-loading-disabled"):u(".envira-gallery-wrap")).find(".envira-loader").remove(),u(".envira-gallery-wrap").find(".envira-layout-bnb--more-link").css("opacity","1")}),u(".envira-gallery-links").each(function(){var t=u(this),e=t.data("gallery-config"),i=t.data("gallery-images"),t=t.data("lightbox-theme");void 0===x[e.gallery_id]&&(x[e.gallery_id]=new f(e,i,t))}),u(e).trigger("envira_loaded",[v,x])}),u(e).trigger("envira_load"),void 0!==i.debug&&i.debug&&(console.log(x),console.log(v)),u("body").on("click",'div.envirabox-title a[href*="#"]:not([href="#"])',function(t){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname)return u.envirabox.close(),!1}),u(e).on("envira_image_lazy_load_complete",function(t){var e,i,n,o="";void 0!==t&&(void 0!==t.image_id&&null!==t.image_id||void 0!==t.video_id&&null!==t.video_id)&&void 0!==(o=0<u("#envira-gallery-wrap-"+t.gallery_id).find("#"+t.video_id+" iframe").length?u("#envira-gallery-wrap-"+t.gallery_id).find("#"+t.video_id+" iframe"):0<u("#envira-gallery-wrap-"+t.gallery_id).find("#"+t.video_id+" video").length?u("#envira-gallery-wrap-"+t.gallery_id).find("#"+t.video_id+" video"):u("#envira-gallery-wrap-"+t.gallery_id).find("img#"+t.image_id))&&""!==o&&(u("#envira-gallery-wrap-"+t.gallery_id).find("div.envira-gallery-public").hasClass("envira-gallery-0-columns")?u(o).closest("div.envira-gallery-item-inner").find("div.envira-gallery-position-overlay").delay(100).show():(u(o).closest("div.envira-gallery-item-inner").find("div.envira-gallery-position-overlay").delay(100).show(),n=u(o).closest("div.envira-gallery-item-inner").find(".envira-lazy").width(),e=t.naturalHeight/t.naturalWidth,n=100*((n=t.naturalHeight/n)<e?n:e),o.closest("div.envira-gallery-public").parent().hasClass("envira-gallery-theme-sleek")&&(n+=2),i=(e=u(o).closest("div.envira-gallery-item-inner").find("div.envira-lazy")).closest("div.envira-gallery-item-inner").find(".envira-gallery-captioned-data").height(),u(o).closest("div.envira-gallery-item").hasClass("enviratope-item")?(e.css("padding-bottom",n+"%").attr("data-envira-changed","true"),u(o).closest("div.envira-gallery-item-inner").find(".envira-gallery-position-overlay.envira-gallery-bottom-right").css("bottom",i),u(o).closest("div.envira-gallery-item-inner").find(".envira-gallery-position-overlay.envira-gallery-bottom-left").css("bottom",i)):(e.css("padding-bottom","unset").attr("data-envira-changed","true"),0<(n=null!=(n=null==(n=e.closest("div.envira-gallery-wrap")[0])?void 0:n.classList)?n:[]).length&&!n.contains("envira-layout-bnb")&&!n.contains("envira-layout-bnb--overlay")&&e.css("height","auto"),u(o).closest("div.envira-gallery-item-inner").find(".envira-gallery-position-overlay.envira-gallery-bottom-right").css("bottom",i+10),u(o).closest("div.envira-gallery-item-inner").find(".envira-gallery-position-overlay.envira-gallery-bottom-left").css("bottom",i+10)),u(o).closest("div.envira-gallery-item-inner").find("span.envira-title").delay(1e3).css("visibility","visible"),u(o).closest("div.envira-gallery-item-inner").find("span.envira-caption").delay(1e3).css("visibility","visible"),void 0!==p["envira_container_"+t.gallery_id]&&u("#envira-gallery-"+t.gallery_id).hasClass("enviratope")&&p["envira_container_"+t.gallery_id].on("layoutComplete",function(t,e){u(o).closest("div.envira-gallery-item-inner").find("span.envira-title").delay(1e3).css("visibility","visible"),u(o).closest("div.envira-gallery-item-inner").find("span.envira-caption").delay(1e3).css("visibility","visible")})))})})})()})();